<!DOCTYPE HTML>
<html lang="zh-CN">
<head><meta name="generator" content="Hexo 3.9.0">
    <!--Setting-->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta http-equiv="Cache-Control" content="no-siteapp">
    <meta http-equiv="Cache-Control" content="no-transform">
    <meta name="renderer" content="webkit|ie-comp|ie-stand">
    <meta name="apple-mobile-web-app-capable" content="码农垒砖...">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="format-detection" content="telephone=no,email=no,adress=no">
    <meta name="browsermode" content="application">
    <meta name="screen-orientation" content="portrait">
    <meta name="theme-version" content="1.2.3">
    <meta name="root" content="/">
    <link rel="dns-prefetch" href="http://yoursite.com">
    <!--SEO-->

    <meta name="keywords" content>


    <meta name="description" content="阻止默认事件1234567891011121、w3c方法是：e.preventDefault();2、IE方法：e.returnValue = false;3、封装函数—阻止浏览器默认行为   ...">



<meta name="robots" content="all">
<meta name="google" content="all">
<meta name="googlebot" content="all">
<meta name="verify" content="all">

    <!--Title-->


<title>JS归纳 | 码农垒砖...</title>


    <link rel="alternate" href="/atom.xml" title="码农垒砖..." type="application/atom+xml">


    <link rel="icon" href="/favicon.ico">

    



<link rel="stylesheet" href="/css/bootstrap.min.css?rev=3.3.7">
<link rel="stylesheet" href="/css/font-awesome.min.css?rev=4.5.0">
<link rel="stylesheet" href="/css/style.css?rev=@@hash">




    
	<div class="hide">
		<script type="text/javascript">
			var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");document.write(unescape("%3Cspan class='cnzz_stat_icon_1263868967 hide' %3E%3Cscript%20src%3D%22https%3A%2F%2Fs95.cnzz.com%2Fz_stat.php%3Fweb_id%3D1272564536%22%3E%3C%2Fscript%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s19.cnzz.com/z_stat.php%3Fid%3D1263868967%26show%3Dpic1' type='text/javascript'%3E%3C/script%3E"));
		</script>
	</div>






    

</head>

</html>
<!--[if lte IE 8]>
<style>
    html{ font-size: 1em }
</style>
<![endif]-->
<!--[if lte IE 9]>
<div style="ie">你使用的浏览器版本过低，为了你更好的阅读体验，请更新浏览器的版本或者使用其他现代浏览器，比如Chrome、Firefox、Safari等。</div>
<![endif]-->

<body>
    <header class="main-header"  style="background-image:url(http://snippet.shenliyang.com/img/banner.jpg)"  >
    <div class="main-header-box">
        <a class="header-avatar" href="/" title='微微'>
            <img src="/img/avatar2.jpg" alt="logo头像" class="img-responsive center-block">
        </a>
        <div class="branding">
        	<!--<h2 class="text-hide">Snippet主题,从未如此简单有趣</h2>-->
            
                 <img src="/img/branding.png" alt="Snippet 博客主题" class="img-responsive center-block">
            
    	</div>
    </div>
</header>
    <nav class="main-navigation">
    <div class="container">
        <div class="row">
            <div class="col-sm-12">
                <div class="navbar-header"><span class="nav-toggle-button collapsed pull-right" data-toggle="collapse" data-target="#main-menu" id="mnav">
                    <span class="sr-only"></span>
                        <i class="fa fa-bars"></i>
                    </span>
                    <a class="navbar-brand" href="http://yoursite.com">码农垒砖...</a>
                </div>
                <div class="collapse navbar-collapse" id="main-menu">
                    <ul class="menu">
                        
                            <li role="presentation" class="text-center">
                                <a href="/"><i class="fa "></i>首页</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/前端/"><i class="fa "></i>前端</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/后端/"><i class="fa "></i>后端</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/工具/"><i class="fa "></i>工具</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/archives/"><i class="fa "></i>时间轴</a>
                            </li>
                        
                    </ul>
                </div>
            </div>
        </div>
    </div>
</nav>
    <section class="content-wrap">
        <div class="container">
            <div class="row">
                <main class="col-md-8 main-content m-post">
                    <p id="process"></p>
<article class="post">
    <div class="post-head">
        <h1 id="JS归纳">
            
	            JS归纳
            
        </h1>
        <div class="post-meta">
    
        <span class="categories-meta fa-wrap">
            <i class="fa fa-folder-open-o"></i>
            <a class="category-link" href="/categories/前端/">前端</a>
        </span>
    

    
        <span class="fa-wrap">
            <i class="fa fa-tags"></i>
            <span class="tags-meta">
                
            </span>
        </span>
    

    
        
        <span class="fa-wrap">
            <i class="fa fa-clock-o"></i>
            <span class="date-meta">2020/01/03</span>
        </span>
        
    
</div>
            
            
    </div>
    
    <div class="post-body post-content">
        <h2 id="阻止默认事件"><a href="#阻止默认事件" class="headerlink" title="阻止默认事件"></a>阻止默认事件</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>、w3c方法是：e.preventDefault();</span><br><span class="line"></span><br><span class="line"><span class="number">2</span>、IE方法：e.returnValue = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line"><span class="number">3</span>、封装函数—阻止浏览器默认行为</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">stopDefault</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(e&amp;&amp;e.preventDefault)</span><br><span class="line">           e.preventDefault();</span><br><span class="line">        <span class="keyword">else</span> </span><br><span class="line">           <span class="built_in">window</span>.event.returnValue = <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h2 id="阻止冒泡"><a href="#阻止冒泡" class="headerlink" title="阻止冒泡"></a>阻止冒泡</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>、事件按照从最特定的事件目标到最不特定的事件目标(<span class="built_in">document</span>对象)的顺序触发；</span><br><span class="line"></span><br><span class="line"><span class="number">2</span>、事件流的三个阶段：捕获节点阶段、处于目标节点阶段、冒泡阶段；</span><br><span class="line"></span><br><span class="line"><span class="number">3</span>、事件流分为两种：捕获事件流和冒泡事件流；</span><br><span class="line"></span><br><span class="line"><span class="number">4</span>、捕获事件流：从根节点开始执行，一直往子节点查找执行，直到查找到目标节点；</span><br><span class="line"></span><br><span class="line"><span class="number">5</span>、冒泡事件流：从目标节点开始执行，一直往父节点冒泡查找执行，直到查找到根节点；</span><br><span class="line"></span><br><span class="line"><span class="number">6</span>、w3c方法是：e.stopPropagation();</span><br><span class="line"></span><br><span class="line"><span class="number">7</span>、IE方法：e.cancleBubble = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line"><span class="number">8</span>、封装函数—阻止冒泡行为</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">stopBubble</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(e&amp;&amp;e.stopPropagation)</span><br><span class="line">           e.stopPropagation();</span><br><span class="line">        <span class="keyword">else</span> </span><br><span class="line">           <span class="built_in">window</span>.event.cancleBubble = <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h2 id="防抖和节流"><a href="#防抖和节流" class="headerlink" title="防抖和节流"></a>防抖和节流</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>、在开发中，我们常常会去监听滚动事件或者用户输入框验证事件；</span><br><span class="line"></span><br><span class="line"><span class="number">2</span>、如果事件处理没有频率限制，就会加重浏览器的负担，影响用户的体验感；</span><br><span class="line"></span><br><span class="line"><span class="number">3</span>、因此，我们可以采取防抖（debounce）和节流（throttle）来处理，减少调用事件的频率，达到较好的用户体验；</span><br><span class="line"></span><br><span class="line"><span class="number">4</span>、防抖和节流的作用都是防止函数多次调用，但是本质不同；</span><br><span class="line">    <span class="number">1</span>）都是防止某一时间频繁触发；</span><br><span class="line">    <span class="number">2</span>）防抖是将多次执行变为只执行一次；</span><br><span class="line">    <span class="number">3</span>）节流是将多次执行变为每隔一段时间执行。</span><br><span class="line"></span><br><span class="line"><span class="number">5</span>、应用场景</span><br><span class="line">　　<span class="number">1</span>）防抖(debounce)</span><br><span class="line">　　　　search搜索联想，用户在不断输入值时，用防抖来节约请求资源；</span><br><span class="line"></span><br><span class="line">　　　　<span class="built_in">window</span>触发resize的时候，不断的调整浏览器窗口大小会不断的触发这个事件，用防抖来让其只触发一次；</span><br><span class="line"></span><br><span class="line">　　<span class="number">2</span>）节流(throttle)</span><br><span class="line">　　　　鼠标不断点击触发，mousedown(单位时间内只触发一次)</span><br><span class="line"></span><br><span class="line">　　　　监听滚动事件，比如是否滑到底部自动加载更多，用throttle来判断</span><br><span class="line">    </span><br><span class="line"><span class="number">6</span>、【防抖】触发高频事件后n秒内函数只执行一次，如果n秒内在次触发此事件重新计算时间； </span><br><span class="line">    <span class="comment">// 简单版的防抖：每次触发事件时都取消之前的延时调用方法，这个防抖只能在最后调用。</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">debounce</span>(<span class="params">fn</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">let</span> timeout = <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            clearTimeout(timeout);</span><br><span class="line">            timeout = setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">                fn.apply(<span class="keyword">this</span>,<span class="built_in">arguments</span>);</span><br><span class="line">            &#125;,<span class="number">500</span>);</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;   </span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">sayHi</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'防抖成功'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">	<span class="keyword">var</span> inp = <span class="built_in">document</span>.getElementById(<span class="string">'inp'</span>);</span><br><span class="line">    inp.addEventListener(<span class="string">'input'</span>,debounce(sayHi));</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 带有立即执行选项的防抖函数：一般的防抖会有immediate选项，表示是否立即调用。</span></span><br><span class="line">    <span class="comment">// 这个是用来获取当前时间戳的</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">now</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> +<span class="keyword">new</span> <span class="built_in">Date</span>()</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 防抖函数，返回函数连续调用时，空闲时间必须大于或等于 wait，func 才会执行</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * @param  &#123;function&#125; func        回调函数</span></span><br><span class="line"><span class="comment">     * @param  &#123;number&#125;   wait        表示时间窗口的间隔</span></span><br><span class="line"><span class="comment">     * @param  &#123;boolean&#125;  immediate   设置为ture时，是否立即调用函数</span></span><br><span class="line"><span class="comment">     * @return &#123;function&#125;             返回客户调用函数</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">debounce</span> (<span class="params">func, wait = <span class="number">50</span>, immediate = true</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">let</span> timer, context, args</span><br><span class="line">      <span class="comment">// 延迟执行函数</span></span><br><span class="line">      <span class="keyword">const</span> later = <span class="function"><span class="params">()</span> =&gt;</span> setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="comment">// 延迟函数执行完毕，清空缓存的定时器序号</span></span><br><span class="line">        timer = <span class="literal">null</span></span><br><span class="line">        <span class="comment">// 延迟执行的情况下，函数会在延迟函数中执行</span></span><br><span class="line">        <span class="comment">// 使用到之前缓存的参数和上下文</span></span><br><span class="line">        <span class="keyword">if</span> (!immediate) &#123;</span><br><span class="line">          func.apply(context, args)</span><br><span class="line">          context = args = <span class="literal">null</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;, wait)</span><br><span class="line"></span><br><span class="line">      <span class="comment">// 这里返回的函数是每次实际调用的函数</span></span><br><span class="line">      <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">...params</span>) </span>&#123;</span><br><span class="line">        <span class="comment">// 如果没有创建延迟执行函数（later），就创建一个</span></span><br><span class="line">        <span class="keyword">if</span> (!timer) &#123;</span><br><span class="line">          timer = later()</span><br><span class="line">          <span class="comment">// 如果是立即执行，调用函数</span></span><br><span class="line">          <span class="comment">// 否则缓存参数和调用上下文</span></span><br><span class="line">          <span class="keyword">if</span> (immediate) &#123;</span><br><span class="line">            func.apply(<span class="keyword">this</span>, params)</span><br><span class="line">          &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            context = <span class="keyword">this</span></span><br><span class="line">            args = params</span><br><span class="line">          &#125;</span><br><span class="line">        <span class="comment">// 如果已有延迟执行函数（later），调用的时候清除原来的并重新设定一个</span></span><br><span class="line">        <span class="comment">// 这样做延迟函数会重新计时</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          clearTimeout(timer)</span><br><span class="line">          timer = later()</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="number">7</span>、【节流】高频事件触发，但在n秒内只会执行一次，所以节流会稀释函数的执行频率，每隔一段时间执行一次；</span><br><span class="line">    <span class="comment">// 每次触发事件时都判断当前是否有等待执行的延时函数；</span></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">    * underscore 节流函数，返回函数连续调用时，func 执行频率限定为 次 / wait</span></span><br><span class="line"><span class="comment">    *</span></span><br><span class="line"><span class="comment">    * @param  &#123;function&#125;   func      回调函数</span></span><br><span class="line"><span class="comment">    * @param  &#123;number&#125;     wait      表示时间窗口的间隔</span></span><br><span class="line"><span class="comment">    * @param  &#123;object&#125;     options   如果想忽略开始函数的的调用，传入&#123;leading: false&#125;。</span></span><br><span class="line"><span class="comment">    *                                如果想忽略结尾函数的调用，传入&#123;trailing: false&#125;</span></span><br><span class="line"><span class="comment">    *                                两者不能共存，否则函数不能执行</span></span><br><span class="line"><span class="comment">    * @return &#123;function&#125;             返回客户调用函数</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    _.throttle = <span class="function"><span class="keyword">function</span>(<span class="params">func, wait, options</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> context, args, result;</span><br><span class="line">        <span class="keyword">var</span> timeout = <span class="literal">null</span>;</span><br><span class="line">        <span class="comment">// 之前的时间戳</span></span><br><span class="line">        <span class="keyword">var</span> previous = <span class="number">0</span>;</span><br><span class="line">        <span class="comment">// 如果 options 没传则设为空对象</span></span><br><span class="line">        <span class="keyword">if</span> (!options) options = &#123;&#125;;</span><br><span class="line">        <span class="comment">// 定时器回调函数</span></span><br><span class="line">        <span class="keyword">var</span> later = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">          <span class="comment">// 如果设置了 leading，就将 previous 设为 0</span></span><br><span class="line">          <span class="comment">// 用于下面函数的第一个 if 判断</span></span><br><span class="line">          previous = options.leading === <span class="literal">false</span> ? <span class="number">0</span> : _.now();</span><br><span class="line">          <span class="comment">// 置空一是为了防止内存泄漏，二是为了下面的定时器判断</span></span><br><span class="line">          timeout = <span class="literal">null</span>;</span><br><span class="line">          result = func.apply(context, args);</span><br><span class="line">          <span class="keyword">if</span> (!timeout) context = args = <span class="literal">null</span>;</span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">          <span class="comment">// 获得当前时间戳</span></span><br><span class="line">          <span class="keyword">var</span> now = _.now();</span><br><span class="line">          <span class="comment">// 首次进入前者肯定为 true</span></span><br><span class="line">          <span class="comment">// 如果需要第一次不执行函数</span></span><br><span class="line">          <span class="comment">// 就将上次时间戳设为当前的</span></span><br><span class="line">          <span class="comment">// 这样在接下来计算 remaining 的值时会大于0</span></span><br><span class="line">          <span class="keyword">if</span> (!previous &amp;&amp; options.leading === <span class="literal">false</span>) previous = now;</span><br><span class="line">          <span class="comment">// 计算剩余时间</span></span><br><span class="line">          <span class="keyword">var</span> remaining = wait - (now - previous);</span><br><span class="line">          context = <span class="keyword">this</span>;</span><br><span class="line">          args = <span class="built_in">arguments</span>;</span><br><span class="line">          <span class="comment">// 如果当前调用已经大于上次调用时间 + wait</span></span><br><span class="line">          <span class="comment">// 或者用户手动调了时间</span></span><br><span class="line">          <span class="comment">// 如果设置了 trailing，只会进入这个条件</span></span><br><span class="line">          <span class="comment">// 如果没有设置 leading，那么第一次会进入这个条件</span></span><br><span class="line">          <span class="comment">// 还有一点，你可能会觉得开启了定时器那么应该不会进入这个 if 条件了</span></span><br><span class="line">          <span class="comment">// 其实还是会进入的，因为定时器的延时</span></span><br><span class="line">          <span class="comment">// 并不是准确的时间，很可能你设置了2秒</span></span><br><span class="line">          <span class="comment">// 但是他需要2.2秒才触发，这时候就会进入这个条件</span></span><br><span class="line">          <span class="keyword">if</span> (remaining &lt;= <span class="number">0</span> || remaining &gt; wait) &#123;</span><br><span class="line">            <span class="comment">// 如果存在定时器就清理掉否则会调用二次回调</span></span><br><span class="line">            <span class="keyword">if</span> (timeout) &#123;</span><br><span class="line">              clearTimeout(timeout);</span><br><span class="line">              timeout = <span class="literal">null</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            previous = now;</span><br><span class="line">            result = func.apply(context, args);</span><br><span class="line">            <span class="keyword">if</span> (!timeout) context = args = <span class="literal">null</span>;</span><br><span class="line">          &#125; <span class="keyword">else</span> <span class="keyword">if</span> (!timeout &amp;&amp; options.trailing !== <span class="literal">false</span>) &#123;</span><br><span class="line">            <span class="comment">// 判断是否设置了定时器和 trailing</span></span><br><span class="line">            <span class="comment">// 没有的话就开启一个定时器</span></span><br><span class="line">            <span class="comment">// 并且不能不能同时设置 leading 和 trailing</span></span><br><span class="line">            timeout = setTimeout(later, remaining);</span><br><span class="line">          &#125;</span><br><span class="line">          <span class="keyword">return</span> result;</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;;</span><br></pre></td></tr></table></figure>

<h2 id="事件委托"><a href="#事件委托" class="headerlink" title="事件委托"></a>事件委托</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>、动态生成元素绑定事件时，需要使用事件委派；</span><br><span class="line"></span><br><span class="line"><span class="number">2</span>、ul.on(‘click’,’li’,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;)；</span><br></pre></td></tr></table></figure>

<h2 id="改变this指向"><a href="#改变this指向" class="headerlink" title="改变this指向"></a>改变this指向</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>、call()、apply()、bind()均改变<span class="keyword">this</span>指向；</span><br><span class="line"></span><br><span class="line"><span class="number">2</span>、bind()不会调用方法,不兼容IE8；</span><br><span class="line"></span><br><span class="line"><span class="number">3</span>、call()继承：判断字符类型</span><br><span class="line">    <span class="built_in">Object</span>.prototype.toString.call(&#123;&#125;)</span><br><span class="line"></span><br><span class="line"><span class="number">4</span>、apply()</span><br><span class="line">    <span class="number">1</span>）合并数组</span><br><span class="line">        <span class="keyword">let</span> arr1=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]; </span><br><span class="line">        <span class="keyword">let</span> arr2=[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]; </span><br><span class="line">        <span class="built_in">Array</span>.prototype.push.apply(arr1,arr2); <span class="comment">//将arr2合并到了arr1中</span></span><br><span class="line">    <span class="number">2</span>）求数组最大值</span><br><span class="line">        <span class="built_in">Math</span>.max.apply(<span class="literal">null</span>,arr)</span><br><span class="line"></span><br><span class="line"><span class="number">5</span>、JS函数的<span class="number">4</span>个内置方法</span><br><span class="line">    <span class="built_in">Function</span>.prototype.apply()</span><br><span class="line">    <span class="built_in">Function</span>.prototype.bind()</span><br><span class="line">    <span class="built_in">Function</span>.prototype.call()</span><br><span class="line">    <span class="built_in">Function</span>.prototype.toString() <span class="comment">// 返回函数代码的字符串表示</span></span><br><span class="line"></span><br><span class="line"><span class="number">6</span>、toString()方法返回字符串</span><br><span class="line">    <span class="built_in">Object</span>的toString()方法返回的是当前方法执行的主体</span><br></pre></td></tr></table></figure>

<h2 id="浅-深拷贝"><a href="#浅-深拷贝" class="headerlink" title="浅/深拷贝"></a>浅/深拷贝</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>、浅拷贝和深拷贝的概念只针对于引用类型数据；</span><br><span class="line"></span><br><span class="line"><span class="number">2</span>、浅拷贝只复制指向某个对象的指针，共享同一块内存；</span><br><span class="line"></span><br><span class="line"><span class="number">3</span>、深拷贝创建一个一摸一样的对象，内存不共享。</span><br><span class="line"></span><br><span class="line"><span class="number">4</span>、二者区别</span><br><span class="line">   浅拷贝只复制对象的第一层属性，深拷贝可以对对象的属性进行递归赋值。</span><br><span class="line">   </span><br><span class="line"><span class="number">5</span>、【浅拷贝】方式</span><br><span class="line">    <span class="number">1</span>）自定义函数</span><br><span class="line">	<span class="function"><span class="keyword">function</span> <span class="title">simpleCopy</span>(<span class="params">initalObj</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> obj = &#123;&#125;;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i <span class="keyword">in</span> initalObj) &#123;</span><br><span class="line">            obj[i] = initalObj[i];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> obj;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">    <span class="number">2</span>）ES6的<span class="built_in">Object</span>.assign()</span><br><span class="line">	<span class="keyword">let</span> newObj = <span class="built_in">Object</span>.assign(&#123;&#125;,obj);</span><br><span class="line">	注意：只能实现一维对象的拷贝。</span><br><span class="line"></span><br><span class="line">    <span class="number">3</span>）ES6的对象扩展</span><br><span class="line">	<span class="keyword">let</span> newObj = &#123;···obj&#125;;</span><br><span class="line"></span><br><span class="line">    <span class="number">4</span>）不改变原数组的浅拷贝</span><br><span class="line">	slice()、join()、concat()</span><br><span class="line">	</span><br><span class="line"><span class="number">6</span>、【深拷贝】方式</span><br><span class="line">    <span class="number">1</span>）自定义函数</span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">deepCopy</span>(<span class="params">parent, child</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">for</span> (key <span class="keyword">in</span> parent) &#123; </span><br><span class="line">                <span class="comment">// 判断child[key],是否存在；存在跳出本次循环，进行下一次循环</span></span><br><span class="line">                <span class="keyword">if</span> (child[key]) &#123;</span><br><span class="line">                    <span class="keyword">continue</span>;</span><br><span class="line">                &#125;;</span><br><span class="line">                <span class="comment">// 对象的属性先进行判断，instanceof为数组，建立数组。</span></span><br><span class="line">                <span class="comment">// 因为数组也是对象，需要先判断数组，在判断对象。</span></span><br><span class="line">                <span class="keyword">if</span> (parent[key] <span class="keyword">instanceof</span> <span class="built_in">Array</span>) &#123;</span><br><span class="line">                    child[key] = [];</span><br><span class="line">                    deepCopy(parent[key], child[key]);</span><br><span class="line">                &#125;<span class="keyword">else</span> <span class="keyword">if</span> (parent[key] <span class="keyword">instanceof</span> <span class="built_in">Object</span>) &#123;</span><br><span class="line">                    child[key] = &#123;&#125;;</span><br><span class="line">                    deepCopy(parent[key], child[key]);</span><br><span class="line">                &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                    child[key] =  parent[key];<span class="comment">//对象为数值，直接拷贝</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">	</span><br><span class="line">    <span class="number">2</span>）<span class="built_in">JSON</span>.stringify和<span class="built_in">JSON</span>.parse</span><br><span class="line">    注意：有局限性的；</span><br><span class="line">         不能深拷贝含有<span class="literal">undefined</span>、<span class="function"><span class="keyword">function</span>、<span class="title">symbol</span>值的对象，会被忽略或者被转换成<span class="title">null</span>；</span></span><br><span class="line">         不过JSON.parse(JSON.stringify(obj))简单粗暴，已经满足90%的使用场景了。</span><br><span class="line">         <span class="keyword">var</span> obj1 = &#123;</span><br><span class="line">            x: <span class="number">1</span>,</span><br><span class="line">            y: <span class="literal">undefined</span>,</span><br><span class="line">            z: <span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">z1, z2</span>) </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> z1 + z2</span><br><span class="line">            &#125;,</span><br><span class="line">            a: <span class="built_in">Symbol</span>(<span class="string">"foo"</span>)</span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="keyword">var</span> obj2 = <span class="built_in">JSON</span>.parse(<span class="built_in">JSON</span>.stringify(obj1));</span><br><span class="line">        <span class="built_in">console</span>.log(obj1) <span class="comment">//&#123;x: 1, y: undefined, z: ƒ, a: Symbol(foo)&#125;</span></span><br><span class="line">        <span class="built_in">console</span>.log(<span class="built_in">JSON</span>.stringify(obj1)); <span class="comment">//&#123;"x":1&#125;</span></span><br><span class="line">        <span class="built_in">console</span>.log(obj2) <span class="comment">//&#123;x: 1&#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="number">4</span>）lodash函数库的_.cloneDeep()方法</span><br><span class="line">       <span class="keyword">var</span> _ = <span class="built_in">require</span>(<span class="string">'lodash'</span>);</span><br><span class="line">       <span class="keyword">var</span> newObj = _.cloneDeep(obj);</span><br><span class="line"></span><br><span class="line">    <span class="number">5</span>）大杀器：递归</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">deepCopy</span>(<span class="params">obj</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">let</span> result = &#123;&#125;</span><br><span class="line">        <span class="keyword">let</span> keys = <span class="built_in">Object</span>.keys(obj),</span><br><span class="line">        key = <span class="literal">null</span>,</span><br><span class="line">        temp = <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; keys.length; i++) &#123;</span><br><span class="line">            key = keys[i];    </span><br><span class="line">            temp = obj[key];</span><br><span class="line">            <span class="keyword">if</span> (temp &amp;&amp; <span class="keyword">typeof</span> temp === <span class="string">'object'</span>) &#123;</span><br><span class="line">                result[key] = deepCopy(temp);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                result[key] = temp;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> obj1 = &#123;</span><br><span class="line">        x: &#123;</span><br><span class="line">            m: <span class="number">1</span></span><br><span class="line">        &#125;,</span><br><span class="line">        y: <span class="literal">undefined</span>,</span><br><span class="line">        z: <span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">z1, z2</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> z1 + z2</span><br><span class="line">        &#125;,</span><br><span class="line">        a: <span class="built_in">Symbol</span>(<span class="string">"foo"</span>)</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">var</span> obj2 = deepCopy(obj1);</span><br><span class="line">    obj2.x.m = <span class="number">2</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(obj1); <span class="comment">//&#123;x: &#123;m: 1&#125;, y: undefined, z: ƒ, a: Symbol(foo)&#125;</span></span><br><span class="line">    <span class="built_in">console</span>.log(obj2); <span class="comment">//&#123;x: &#123;m: 2&#125;, y: undefined, z: ƒ, a: Symbol(foo)&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="number">7</span>、循环引用拷贝</span><br><span class="line">    <span class="keyword">var</span> obj1 = &#123;</span><br><span class="line">        x: <span class="number">1</span>, </span><br><span class="line">        y: <span class="number">2</span></span><br><span class="line">    &#125;;</span><br><span class="line">    obj1.z = obj1;</span><br><span class="line">    <span class="keyword">var</span> obj2 = deepCopy(obj1);</span><br><span class="line">    注意：此时如果调用刚才的deepCopy函数的话，会陷入一个循环的递归过程，从而导致爆栈；</span><br><span class="line">    </span><br><span class="line"><span class="number">8</span>、解决循环引用拷贝爆栈问题</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">deepCopy</span>(<span class="params">obj, parent = null</span>) </span>&#123;</span><br><span class="line">        <span class="comment">// 创建一个新对象</span></span><br><span class="line">        <span class="keyword">let</span> result = &#123;&#125;;</span><br><span class="line">        <span class="keyword">let</span> keys = <span class="built_in">Object</span>.keys(obj),</span><br><span class="line">        key = <span class="literal">null</span>,</span><br><span class="line">        temp= <span class="literal">null</span>,</span><br><span class="line">        _parent = parent;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 该字段有父级则需要追溯该字段的父级</span></span><br><span class="line">        <span class="keyword">while</span> (_parent) &#123;</span><br><span class="line">            <span class="comment">// 如果该字段引用了它的父级则为循环引用</span></span><br><span class="line">            <span class="keyword">if</span> (_parent.originalParent === obj) &#123;</span><br><span class="line">                <span class="comment">// 循环引用直接返回同级的新对象</span></span><br><span class="line">                <span class="keyword">return</span> _parent.currentParent;</span><br><span class="line">            &#125;</span><br><span class="line">            _parent = _parent.parent;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; keys.length; i++) &#123;</span><br><span class="line">            key = keys[i];</span><br><span class="line">            temp= obj[key];</span><br><span class="line">            <span class="comment">// 如果字段的值也是一个对象</span></span><br><span class="line">            <span class="keyword">if</span> (temp &amp;&amp; <span class="keyword">typeof</span> temp=== <span class="string">'object'</span>) &#123;</span><br><span class="line">                <span class="comment">// 递归执行深拷贝 将同级的待拷贝对象与新对象传递给 parent 方便追溯循环引用</span></span><br><span class="line">                result[key] = DeepCopy(temp, &#123;</span><br><span class="line">                    originalParent: obj,</span><br><span class="line">                    currentParent: result,</span><br><span class="line">                    parent: parent</span><br><span class="line">                &#125;);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                result[key] = temp;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> obj1 = &#123;</span><br><span class="line">        x: <span class="number">1</span>, </span><br><span class="line">        y: <span class="number">2</span></span><br><span class="line">    &#125;;</span><br><span class="line">    obj1.z = obj1;</span><br><span class="line">    <span class="keyword">var</span> obj2 = deepCopy(obj1);</span><br><span class="line">    <span class="built_in">console</span>.log(obj1); <span class="comment">//太长了去浏览器试一下吧～ </span></span><br><span class="line">    <span class="built_in">console</span>.log(obj2); <span class="comment">//太长了去浏览器试一下吧~</span></span><br></pre></td></tr></table></figure>

<h2 id="递归"><a href="#递归" class="headerlink" title="递归"></a>递归</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>、要有一个结束的条件；</span><br><span class="line"> </span><br><span class="line"><span class="number">2</span>、在函数内要通过适当的时机来自己调用自己。</span><br><span class="line"> </span><br><span class="line"><span class="number">3</span>、案例</span><br><span class="line">  【node：要进行递归的那个节点】</span><br><span class="line">  【keyArr：是数组，用来存放所有 三级权限的Id】</span><br><span class="line">   <span class="comment">// 引入需要的递归的数据</span></span><br><span class="line">   <span class="keyword">const</span> scopeRow = <span class="built_in">require</span>(<span class="string">'./tree_data'</span>);</span><br><span class="line">   <span class="comment">// 定义递归函数</span></span><br><span class="line">   <span class="function"><span class="keyword">function</span> <span class="title">getLeafIds</span>(<span class="params">node, keyArr</span>) </span>&#123;</span><br><span class="line">       <span class="keyword">if</span> (!node.children) &#123;</span><br><span class="line">            keyArr.push(node.id)</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            node.children.forEach(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span><br><span class="line">                getLeafIds(item, keyArr)</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">   &#125;;</span><br><span class="line">   <span class="keyword">const</span> keys = [];</span><br><span class="line">   getLeafIds(scopeRow, keys);</span><br><span class="line">   <span class="built_in">console</span>.log(keys);</span><br></pre></td></tr></table></figure>

<h2 id="同源策略"><a href="#同源策略" class="headerlink" title="同源策略"></a>同源策略</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">1、同源策略是一种浏览器最基本的安全机制；</span><br><span class="line"></span><br><span class="line">2、同源策略可以规避一些危险，但不是说有了同源策略就是安全的，只能说毕竟能提高一点攻击成本；</span><br><span class="line"></span><br><span class="line">3、请求域名、端口、协议三者之一不一致，发生跨域；</span><br><span class="line"></span><br><span class="line">4、跨域解决办法：JSONP、CORS；</span><br><span class="line"></span><br><span class="line">5、CORS:全称是<span class="string">'跨域资源共享'</span>，是W3C标准提供的跨域解决方案；</span><br><span class="line">    1）通过设置服务器属性Access-Control-Allow-Origin让服务器接受到来自不同域的请求；</span><br><span class="line">    2）Access-Control-Allow-Origin:* ，让服务器能接受到来自所有域的请求；</span><br><span class="line">    3）CORS有两种请求：简单请求和非简单请求；</span><br><span class="line"></span><br><span class="line">6、JSONP</span><br><span class="line">    1）在HTML标签里，如script、img这样的获取资源的标签，是没有跨域限制的；</span><br><span class="line">    2）JSONP只能发送get请求，因为本质上script加载资源就是get</span><br></pre></td></tr></table></figure>

<h2 id="编码解码"><a href="#编码解码" class="headerlink" title="编码解码"></a>编码解码</h2><table>
<thead>
<tr>
<th align="center">编码</th>
<th align="center">编码方法</th>
<th align="center">解码方法</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td align="center">escape()</td>
<td align="center">unescape()</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center">encodeURI()</td>
<td align="center">decodeURI()</td>
</tr>
<tr>
<td align="center">3</td>
<td align="center">encodeURIComponent()</td>
<td align="center">decodeURIComponent()</td>
</tr>
</tbody></table>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">1、escape()在from表单提交时，空格会被转换为+；</span><br><span class="line"></span><br><span class="line">2、escape()不会对+进行编码，不推荐使用；</span><br><span class="line"></span><br><span class="line">3、encodeURI()只对中文部分转码；</span><br><span class="line"></span><br><span class="line">4、encodeURIComponent()对中文和特殊字符均会转码，推荐使用。</span><br></pre></td></tr></table></figure>

<h2 id="常见方法"><a href="#常见方法" class="headerlink" title="常见方法"></a>常见方法</h2><h3 id="冒泡排序"><a href="#冒泡排序" class="headerlink" title="冒泡排序"></a>冒泡排序</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>、给数组中的元素排序，常使用sort方法或<span class="keyword">for</span>循环；</span><br><span class="line"><span class="keyword">var</span> examplearr = [<span class="number">8</span>, <span class="number">94</span>, <span class="number">15</span>, <span class="number">88</span>, <span class="number">55</span>, <span class="number">76</span>, <span class="number">21</span>, <span class="number">39</span>,<span class="number">7</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sortarr</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; arr.length - <span class="number">1</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; arr.length - <span class="number">1</span> - i; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (arr[j] &gt; arr[j + <span class="number">1</span>]) &#123;</span><br><span class="line">              <span class="keyword">var</span> temp = arr[j];</span><br><span class="line">              arr[j] = arr[j + <span class="number">1</span>];</span><br><span class="line">              arr[j + <span class="number">1</span>] = temp;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> arr;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">sortarr(examplearr);</span><br><span class="line"><span class="built_in">console</span>.log(examplearr);</span><br></pre></td></tr></table></figure>

<h3 id="数组去重"><a href="#数组去重" class="headerlink" title="数组去重"></a>数组去重</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>、ES6中<span class="built_in">Set</span></span><br><span class="line">    <span class="keyword">let</span> arr = [<span class="number">4</span>,<span class="number">1</span>,<span class="number">3</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="string">'2'</span>];</span><br><span class="line">    <span class="keyword">let</span> uniqueArr = [...new <span class="built_in">Set</span>(arr)];</span><br><span class="line">    <span class="built_in">console</span>.log(uniqueArr) <span class="comment">//[4,1,3,2,'2']</span></span><br><span class="line"></span><br><span class="line"><span class="number">2</span>、嵌套<span class="keyword">for</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">unique</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; arr.length; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">var</span> j = i + <span class="number">1</span>; j &lt; arr.length; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (arr[i] == arr[j]) &#123;</span><br><span class="line">                    arr.splice(j, <span class="number">1</span>)</span><br><span class="line">                    j--</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> arr</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="number">3</span>、indexOf方法</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">unique</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (!<span class="built_in">Array</span>.isArray(arr)) &#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">'type error!'</span>)</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">var</span> array = []</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; arr.length; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (array.indexOf(arr[i]) === <span class="number">-1</span>) &#123;</span><br><span class="line">                array.push(arr[i])</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> array</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="number">4</span>、对象的属性不能相同的特点</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">unique</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (!<span class="built_in">Array</span>.isArray(arr)) &#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">'type error!'</span>)</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">var</span> arrry = []</span><br><span class="line">        <span class="keyword">var</span> obj = &#123;&#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; arr.length; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (!obj[arr[i]]) &#123;</span><br><span class="line">                arrry.push(arr[i])</span><br><span class="line">                obj[arr[i]] = <span class="number">1</span></span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                obj[arr[i]]++</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> arrry</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="number">5</span>、includes方法</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">unique</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (!<span class="built_in">Array</span>.isArray(arr)) &#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">'type error!'</span>)</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">var</span> arrry = []</span><br><span class="line">        <span class="keyword">for</span> (vari = <span class="number">0</span>; i &lt; arr.length; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (!arrry.includes(arr[i])) &#123;</span><br><span class="line">                <span class="comment">//includes 检测数组是否有某个值</span></span><br><span class="line">                arrry.push(arr[i])</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="number">6</span>、filter方法</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">unique</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> arr.filter(<span class="function"><span class="keyword">function</span>(<span class="params">item, index, arr</span>) </span>&#123;</span><br><span class="line">            <span class="comment">//当前元素，在原始数组中的第一个索引==当前索引值，否则返回当前元素</span></span><br><span class="line">            <span class="keyword">return</span> arr.indexOf(item, <span class="number">0</span>) === index</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h3 id="数组最大值"><a href="#数组最大值" class="headerlink" title="数组最大值"></a>数组最大值</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [ <span class="number">1</span>,<span class="number">5</span>,<span class="number">1</span>,<span class="number">7</span>,<span class="number">5</span>,<span class="number">9</span>];</span><br><span class="line"></span><br><span class="line"><span class="number">1</span>、用<span class="built_in">Math</span>.max 和... 扩展运算符</span><br><span class="line"><span class="built_in">Math</span>.max（...ary）</span><br><span class="line"></span><br><span class="line"><span class="number">2</span>、用<span class="built_in">Math</span>.max 和apply</span><br><span class="line"><span class="built_in">Math</span>.max.apply（<span class="literal">null</span>, ary）</span><br></pre></td></tr></table></figure>

<h3 id="获取虚拟目录"><a href="#获取虚拟目录" class="headerlink" title="获取虚拟目录"></a>获取虚拟目录</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">GetVirtualPath</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> p = <span class="built_in">window</span>.location.pathname;</span><br><span class="line">    <span class="keyword">if</span> (p.substring(<span class="number">0</span>, <span class="number">1</span>) != <span class="string">'/'</span>) p = <span class="string">'/'</span> + p</span><br><span class="line">    <span class="keyword">var</span> str = p.replace(<span class="regexp">/^[/]\w*[/]/</span>, <span class="string">''</span>) <span class="comment">//将虚拟目录从字符串中清除</span></span><br><span class="line">    <span class="keyword">return</span> p.substring(<span class="number">0</span>, p.length - str.length) <span class="comment">//返回虚拟目录</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="正则校验字符串"><a href="#正则校验字符串" class="headerlink" title="正则校验字符串"></a>正则校验字符串</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">参数：s输入的字符串。 返回：返回bool类型。</span><br><span class="line"></span><br><span class="line"><span class="number">1</span>、校验是否全由数字组成</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">isDigit</span>(<span class="params">s</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> patrn = <span class="regexp">/^[0-9]&#123;1,20&#125;$/</span></span><br><span class="line">        <span class="keyword">if</span> (!patrn.exec(s)) <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="number">2</span>、校验是否全由字符组成</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">isChar</span>(<span class="params">s</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> patrn = <span class="regexp">/^[A-Za-z]&#123;1,20&#125;$/</span></span><br><span class="line">        <span class="keyword">if</span> (!patrn.exec(s)) <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="number">3</span>、校验是否包含特殊符号</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">isSign</span>(<span class="params">s</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> patrn = <span class="regexp">/^[A-Za-z0-9|@]&#123;1,20&#125;$/</span></span><br><span class="line">        <span class="keyword">if</span> (!patrn.exec(s)) <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h3 id="判断数组是否为空"><a href="#判断数组是否为空" class="headerlink" title="判断数组是否为空"></a>判断数组是否为空</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isEmptyArray</span>(<span class="params">obj</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (obj == <span class="literal">undefined</span> || obj.length == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="格式化日期"><a href="#格式化日期" class="headerlink" title="格式化日期"></a>格式化日期</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">newTime</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> t = <span class="keyword">new</span> <span class="built_in">Date</span>()</span><br><span class="line">    <span class="keyword">var</span> yy = t.getFullYear(),</span><br><span class="line">        mon = t.getMonth() + <span class="number">1</span>,</span><br><span class="line">        dd = t.getDate(),</span><br><span class="line">        hh = t.getHours(),</span><br><span class="line">        min = t.getMinutes(),</span><br><span class="line">        ss = t.getSeconds();</span><br><span class="line">    mon = mon &lt; <span class="number">10</span> ? <span class="string">"0"</span> + mon : mon;</span><br><span class="line">    dd = dd &lt; <span class="number">10</span> ? <span class="string">"0"</span> + dd : dd;</span><br><span class="line">    hh = hh &lt; <span class="number">10</span> ? <span class="string">"0"</span> + hh : hh;</span><br><span class="line">    min min &lt; <span class="number">10</span> ? <span class="string">"0"</span> + min : min;</span><br><span class="line">    ss = ss &lt; <span class="number">10</span> ? <span class="string">"0"</span> + ss : ss;</span><br><span class="line">    <span class="keyword">return</span> yy + <span class="string">'.'</span> + mon + <span class="string">'.'</span> + dd + <span class="string">' '</span> + hh + <span class="string">':'</span> + min + <span class="string">":"</span> + ss;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="日期字符串转时间戳"><a href="#日期字符串转时间戳" class="headerlink" title="日期字符串转时间戳"></a>日期字符串转时间戳</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">strTime</span>(<span class="params">date</span>)</span>&#123;</span><br><span class="line">    date = date.substring(<span class="number">0</span>,<span class="number">19</span>);    </span><br><span class="line">    date = date.replace(<span class="regexp">/-/g</span>,<span class="string">'/'</span>); </span><br><span class="line">    <span class="keyword">var</span> timestamp = <span class="keyword">new</span> <span class="built_in">Date</span>(date).getTime();</span><br><span class="line">    <span class="keyword">return</span> timestamp;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="时间刷新"><a href="#时间刷新" class="headerlink" title="时间刷新"></a>时间刷新</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;body onload=<span class="string">"show()"</span>&gt;</span><br><span class="line">&lt;span id=<span class="string">"time"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">showtime</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> va = <span class="built_in">document</span>.getElementById(<span class="string">'time'</span>)</span><br><span class="line">    <span class="keyword">var</span> tim = <span class="keyword">new</span> <span class="built_in">Date</span>()</span><br><span class="line">    <span class="keyword">var</span> year = tim.getFullYear()</span><br><span class="line">    <span class="keyword">var</span> mon = tim.getMonth()+<span class="number">1</span></span><br><span class="line">    <span class="keyword">var</span> dat = tim.getDate()</span><br><span class="line">    <span class="keyword">var</span> ho = tim.getHours()</span><br><span class="line">    <span class="keyword">var</span> mi = tim.getMinutes()</span><br><span class="line">    <span class="keyword">var</span> se = tim.getSeconds()</span><br><span class="line">    <span class="keyword">var</span> day = tim.getDay()</span><br><span class="line">    <span class="keyword">var</span> times = year + <span class="string">'年'</span> + mon + <span class="string">'月'</span> + dat + <span class="string">'日'</span> + ho + <span class="string">'时'</span> + mi + <span class="string">'分'</span> + se + <span class="string">'秒'</span> + <span class="string">'星期'</span> + day</span><br><span class="line">    va.innerHTML = times</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">show</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">window</span>.setInterval(showtime, <span class="number">1000</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="驼峰大写转换"><a href="#驼峰大写转换" class="headerlink" title="驼峰大写转换"></a>驼峰大写转换</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str =<span class="string">'get-element-by-id'</span>;</span><br><span class="line"><span class="keyword">var</span> str1 = str.split(<span class="string">'-'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; str1.length; i++) &#123;</span><br><span class="line">    str1[i] = str1[i].charAt(<span class="number">0</span>).toUpperCase + str1[i].substring(<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">str1.join(<span class="string">''</span>);</span><br><span class="line"><span class="built_in">console</span>.log(str1);</span><br></pre></td></tr></table></figure>

<h3 id="回文字符判断-字符串翻转"><a href="#回文字符判断-字符串翻转" class="headerlink" title="回文字符判断_字符串翻转"></a>回文字符判断_字符串翻转</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">run</span>(<span class="params">input</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(typeOf input !== <span class="string">'string'</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">return</span> input.split(<span class="string">''</span>).reverse().join(<span class="string">''</span>) === input;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="显示-隐藏图标边框"><a href="#显示-隐藏图标边框" class="headerlink" title="显示/隐藏图标边框"></a>显示/隐藏图标边框</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 效果：点击容器内图标，图标边框为1px solid red;点击空白处重置</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> box = <span class="built_in">document</span>.getElementById(<span class="string">'box'</span>);</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isIcon</span>(<span class="params">target</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> target.className.includes(<span class="string">'icon'</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">box.onClick = <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">    e.stopPropagation();</span><br><span class="line">    <span class="keyword">const</span> target = e.target;</span><br><span class="line">    <span class="keyword">if</span>(isIcon(target)) &#123;</span><br><span class="line">        target.style.border = <span class="string">'1px solid red'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> doc = <span class="built_in">document</span>;</span><br><span class="line">doc.onClick = <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> children = box.children;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> i; i&lt;children.length; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(isIcon(children[i])) &#123;</span><br><span class="line">            children[i].style.border = <span class="string">'none'</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="屏幕分辨率"><a href="#屏幕分辨率" class="headerlink" title="屏幕分辨率"></a>屏幕分辨率</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">1、<span class="selector-tag">JS</span>方法</span><br><span class="line">    <span class="selector-tag">window</span><span class="selector-class">.screen</span><span class="selector-class">.height</span></span><br><span class="line">    <span class="selector-tag">window</span><span class="selector-class">.screen</span><span class="selector-class">.width</span></span><br><span class="line">    </span><br><span class="line">2、<span class="selector-tag">css</span>的媒体查询</span><br><span class="line">    @<span class="keyword">media</span> screen and (max-width: <span class="number">768px</span>) &#123;</span><br><span class="line">        <span class="comment">/* css代码 */</span></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h3 id="跨浏览器打开链接"><a href="#跨浏览器打开链接" class="headerlink" title="跨浏览器打开链接"></a>跨浏览器打开链接</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">1、有两种方式可以实现</span><br><span class="line">    一是注册自定义协议(Registering an Custom Protocal)实现；</span><br><span class="line">    二是通过桌面服务间接操作。</span><br><span class="line">    </span><br><span class="line">2、注册自定义协议：</span><br><span class="line">    需要先注册，注册一个openIE和openCHROME</span><br><span class="line">    使用</span><br><span class="line">    &lt;a href=”openIE:https://bing.com”&gt;使用IE浏览器打开bing&lt;/a&gt;</span><br><span class="line">    或者</span><br><span class="line">    &lt;a href=”openCHROME:https://bing.com”&gt;使用CHROME浏览器打开bing&lt;/a&gt;</span><br></pre></td></tr></table></figure>

<h3 id="浏览器对方法的支持"><a href="#浏览器对方法的支持" class="headerlink" title="浏览器对方法的支持"></a>浏览器对方法的支持</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 不要通过检测浏览器的不同来检测Web浏览器所支持的方法，要直接检测对该功能的支持,其侧重于功能而非浏览器</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">registerEvent</span>(<span class="params"> sTargetID, sEventName, fnHandler </span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> oTarget = <span class="built_in">document</span>.getElementById( sTargetID );</span><br><span class="line">    <span class="keyword">if</span> ( oTarget != <span class="literal">null</span> ) &#123;</span><br><span class="line">        <span class="keyword">if</span> ( oTarget.addEventListener ) &#123;  </span><br><span class="line">            oTarget.addEventListener( sEventName, fnToBeRun, <span class="literal">false</span> );</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">var</span> sOnEvent = <span class="string">"on"</span> + sEventName;</span><br><span class="line">            <span class="keyword">if</span> ( oTarget.attachEvent ) &#123;</span><br><span class="line">                 oTarget.attachEvent( sOnEvent, fnHandler );</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="JS小结"><a href="#JS小结" class="headerlink" title="JS小结"></a>JS小结</h2><h3 id="JS版本号"><a href="#JS版本号" class="headerlink" title="JS版本号"></a>JS版本号</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 在项目中.js文件添加版本号可避免发布后缓存，手动清除。</span></span><br><span class="line"></span><br><span class="line">&lt;script src=<span class="string">"../spinUnit/varietyDistribution.js?v20180921"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<h3 id="语句优化"><a href="#语句优化" class="headerlink" title="语句优化"></a>语句优化</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>、缩短条件语句</span><br><span class="line">	<span class="keyword">if</span>(available)&#123;addToCard()&#125; </span><br><span class="line">	优化为</span><br><span class="line">	available&amp;&amp;addToCard()</span><br><span class="line"></span><br><span class="line"><span class="number">2</span>、动态属性名</span><br><span class="line">	<span class="keyword">const</span> dynamic = <span class="string">'flavour'</span>;</span><br><span class="line">	<span class="keyword">var</span> item = &#123;</span><br><span class="line">    	name: <span class="string">'Coke'</span>,</span><br><span class="line">        [dynamic]: <span class="string">'Cherry'</span></span><br><span class="line">	&#125;</span><br><span class="line">    <span class="built_in">console</span>.log(item);</span><br><span class="line"></span><br><span class="line"><span class="number">3</span>、展平多维数组</span><br><span class="line">	<span class="keyword">var</span> entries = [<span class="number">1</span>,[<span class="number">2</span>,<span class="number">5</span>],[<span class="number">6</span>,<span class="number">7</span>],<span class="number">9</span>];</span><br><span class="line">	<span class="keyword">var</span> flat_entries = [].contac(...entries);</span><br><span class="line">	<span class="comment">//[1,2,5,6,7,9]</span></span><br><span class="line"></span><br><span class="line"><span class="number">4</span>、随机排列数组中元素</span><br><span class="line">	<span class="keyword">var</span> my_list = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>];</span><br><span class="line">	<span class="built_in">console</span>.log(my_list.sort(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    	<span class="keyword">return</span> <span class="built_in">Math</span>.random()<span class="number">-0.5</span></span><br><span class="line">	&#125;));</span><br><span class="line"></span><br><span class="line"><span class="number">5</span>、转换布尔值的情况</span><br><span class="line">   函数不写<span class="keyword">return</span>或者<span class="keyword">return</span>不加任何东西时，会返回<span class="literal">undefined</span>，判断时会自动转为<span class="literal">false</span>。</span><br></pre></td></tr></table></figure>

<h3 id="location"><a href="#location" class="headerlink" title="location"></a>location</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">1、JS中跳转到其他页面</span><br><span class="line">    location.href=”../.././xxx.html”;</span><br><span class="line">    </span><br><span class="line">2、获取地址栏中get请求参数</span><br><span class="line">    location.search</span><br><span class="line">    </span><br><span class="line">3、特殊字符&amp;和中文乱码问题，解决需要进行转码</span><br><span class="line">    解码：decodeURIComponent(值);</span><br><span class="line">    转码：encodeURIComponent(值);</span><br></pre></td></tr></table></figure>

<h3 id="历史记录"><a href="#历史记录" class="headerlink" title="历史记录"></a>历史记录</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">【H5的历史管理对象】</span><br><span class="line"></span><br><span class="line"><span class="number">1</span>、history.back();</span><br><span class="line"></span><br><span class="line"><span class="number">2</span>、history.forward();</span><br><span class="line"></span><br><span class="line"><span class="number">3</span>、history.go(n);</span><br><span class="line"></span><br><span class="line"><span class="number">4</span>、history.pushState(); <span class="comment">// 追加一条新的历史记录</span></span><br><span class="line"></span><br><span class="line"><span class="number">5</span>、history.repalceState();<span class="comment">// 替换一条历史记录</span></span><br></pre></td></tr></table></figure>

<h3 id="href属性"><a href="#href属性" class="headerlink" title="href属性"></a>href属性</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">1、a标签中的href属性可以写javaScript代码；</span><br><span class="line"></span><br><span class="line">2、js不执行</span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">”javascript:;”</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"></span><br><span class="line">3、js执行</span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">”javascript:history.back();”</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="img标签"><a href="#img标签" class="headerlink" title="img标签"></a>img标签</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// img标签加载失败时显示默认图片</span></span><br><span class="line"></span><br><span class="line">&lt;img src=””alt=“” title=“” height=“不加px” width=“不加px” onerror=“<span class="keyword">this</span>.src=‘路径’”&gt;</span><br><span class="line">    </span><br><span class="line"><span class="comment">// 当触发图片加载失败事件onerror，替换当前src为默认图地址，onload为当触发图片加载成功事件</span></span><br></pre></td></tr></table></figure>

<h3 id="表单"><a href="#表单" class="headerlink" title="表单"></a>表单</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">1、表单元素重置方法</span><br><span class="line">    form.reset();</span><br><span class="line">    </span><br><span class="line">2、表单元素提交方法</span><br><span class="line">    form.submit();</span><br><span class="line">    </span><br><span class="line">3、设置表单内元素是否有自动填充功能</span><br><span class="line">    autocomplete=<span class="string">"off"</span></span><br><span class="line">    </span><br><span class="line">4、H5输入框的非空校验</span><br><span class="line">    required有兼容性</span><br><span class="line">    </span><br><span class="line">4、表单提交按钮</span><br><span class="line">    &lt;button <span class="built_in">type</span>=”submit”&gt;提交&lt;/button&gt;点击按钮自动提交表单数据；</span><br><span class="line">    现在自己绑定提交事件，需要禁止自动提交表单数据功能；</span><br><span class="line">    需要js代码e.preventDefault();阻止默认的form提交；</span><br><span class="line">    </span><br><span class="line">9、表单中没有submit类型按钮，无法提交表单；</span><br><span class="line">    form元素提供id属性；</span><br><span class="line">    外部submit类型按钮提供form属性；</span><br><span class="line">    属性值为from表单id值，即可提交from表单。</span><br></pre></td></tr></table></figure>

<h3 id="数组-字符串截取"><a href="#数组-字符串截取" class="headerlink" title="数组/字符串截取"></a>数组/字符串截取</h3>   <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">1、str.split()字符串分割成数组；</span><br><span class="line"></span><br><span class="line">2、array.join()数组连接成字符串；</span><br><span class="line"></span><br><span class="line">3、数组截取方法</span><br><span class="line">    array.slice(start，[end]);原数组：不会改变；新数组</span><br><span class="line">    array.splice(start,length,[item1,item2....]);原数组：改变；包含被删除项目的新数组；</span><br><span class="line"></span><br><span class="line">4、字符串截取方法</span><br><span class="line">   string.slice(start，[end]);</span><br><span class="line">   string.substr(start[,length]);原字符串：不会改变；若length为0或者为负数，将返回一个空字符串;</span><br><span class="line">   string.substring(start,end);(不含end);原字符串：不会改变；</span><br></pre></td></tr></table></figure>

<h3 id="数组元素添加-删除"><a href="#数组元素添加-删除" class="headerlink" title="数组元素添加/删除"></a>数组元素添加/删除</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">1、pop/push和<span class="built_in">shift</span>/unshift的区别</span><br><span class="line"></span><br><span class="line">   1）push  添加数组到末尾项</span><br><span class="line">   2）pop   删除数组的末尾项</span><br><span class="line"></span><br><span class="line">   3）unshift  添加数组到首项</span><br><span class="line">   4）<span class="built_in">shift</span>    删除数组的首项</span><br></pre></td></tr></table></figure>

<h2 id="jQuery小结"><a href="#jQuery小结" class="headerlink" title="jQuery小结"></a>jQuery小结</h2><h3 id="追加删除元素"><a href="#追加删除元素" class="headerlink" title="追加删除元素"></a>追加删除元素</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">append()、prepend()、after()、before()、remove()</span><br></pre></td></tr></table></figure>

<h3 id="jQuery实用方法"><a href="#jQuery实用方法" class="headerlink" title="jQuery实用方法"></a>jQuery实用方法</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>、IE低版本不支持直接使用trim()方法去空格；jQuery封装了一个工具方法$.trim()，用于去除字符串两边的空格；</span><br><span class="line">   $.trim(值)</span><br><span class="line"></span><br><span class="line"><span class="number">2</span>、合并对象函数$.extend(a,b)；</span><br><span class="line"></span><br><span class="line"><span class="number">3</span>、jQuery表单序列化方法</span><br><span class="line">   <span class="number">1</span>）$(‘<span class="keyword">from</span>’).serialize(); <span class="comment">// 要求input有name属性</span></span><br><span class="line">   <span class="number">2</span>）$(‘<span class="keyword">from</span>’).serializeArryay()；<span class="comment">// 要求input有name属性</span></span><br><span class="line">   </span><br><span class="line"><span class="number">4</span>、使用jQuery绑定事件时，如果出现事件重复绑定可使用off（）解绑，在使用on()绑定；</span><br><span class="line">   $xx.off(‘click’,’li’).on(‘click’,’li’,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="编写jQuery插件"><a href="#编写jQuery插件" class="headerlink" title="编写jQuery插件"></a>编写jQuery插件</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>、jQuery对象绑定新方法，通过扩展$.fn对象实现；</span><br><span class="line">    $.fn.highlight = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="comment">//this绑定为当前Jquery对象</span></span><br><span class="line">        <span class="keyword">this</span>.css(<span class="string">'backgroundColor'</span>,<span class="string">'#fffceb'</span>).css(<span class="string">"color"</span>,<span class="string">"#d85030"</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    注意：<span class="keyword">return</span> <span class="keyword">this</span>是因为jQuery对象支持链式操作，自己写的扩展方法也能链式下去。</span><br><span class="line"></span><br><span class="line"><span class="number">2</span>、highlight方法可以传参，让用户自己定义方法属性</span><br><span class="line">    $.fn.highlight2 = <span class="function"><span class="keyword">function</span> (<span class="params">options</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> bgcolor = options &amp;&amp; options.backgroundColor || <span class="string">"fffceb"</span>;</span><br><span class="line">        <span class="keyword">var</span> color = options &amp;&amp; options.color || <span class="string">"d85030"</span>;</span><br><span class="line">        <span class="comment">//this绑定为当前Jquery对象</span></span><br><span class="line">        <span class="keyword">this</span>.css(<span class="string">'backgroundColor'</span>,bgcolor).css(<span class="string">"color"</span>,color);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="number">3</span>、最终版</span><br><span class="line">    $.fn.highlight = <span class="function"><span class="keyword">function</span> (<span class="params">options</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> opts= $.extend(&#123;&#125;,$.fn.highlight.defaults,options);</span><br><span class="line">        <span class="comment">//this绑定为当前Jquery对象</span></span><br><span class="line">        <span class="keyword">this</span>.css(<span class="string">'backgroundColor'</span>,opts.backgroundColor).css(<span class="string">"color"</span>,opts.color);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    $.fn.highlight.defaults = &#123;</span><br><span class="line">        backgroundColor: <span class="string">"#fffceb"</span>,</span><br><span class="line">        color: <span class="string">"#d85030"</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="number">4</span>、使用</span><br><span class="line">    $.fn.highlight.defaults.backgroundColor = <span class="string">"#000"</span>;</span><br><span class="line">    $.fn.highlight.defaults.color = <span class="string">"#fff"</span>;</span><br><span class="line">    highlight();</span><br><span class="line"></span><br><span class="line"><span class="number">5</span>、编写jQuery插件原则：</span><br><span class="line">    给$.fn绑定函数，实现插件的代码逻辑；</span><br><span class="line">    插件函数最后要<span class="keyword">return</span> <span class="keyword">this</span>以支持链式调用；</span><br><span class="line">    插件函数要有默认值，绑定在$.fn.highlight.defaults上；</span><br><span class="line">    用户在调用是可以传入设定值以便覆盖默认值。</span><br></pre></td></tr></table></figure>

<h2 id="IE解决方案"><a href="#IE解决方案" class="headerlink" title="IE解决方案"></a>IE解决方案</h2><h3 id="IE兼容性"><a href="#IE兼容性" class="headerlink" title="IE兼容性"></a>IE兼容性</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">1、IE6问题</span><br><span class="line">    1）背景图片不显示，可以把图片格式png24改为png8；</span><br><span class="line">    2）IE6显示双边距（块级元素<span class="built_in">float</span>后且有横向的margin存在），可以设置hack， _display: inline;</span><br><span class="line">		</span><br><span class="line">2、不同浏览器默认的margin和padding不一致，可以设置通配符样式 * &#123;margin:0;padding:0&#125;；</span><br><span class="line">	</span><br><span class="line">3、IE渐进识别样式</span><br><span class="line">    &#123;</span><br><span class="line">        color:<span class="string">"red"</span>;/*所有识别*/</span><br><span class="line">        .color:<span class="string">"pink"</span>;/*IE6、7、8识别*/</span><br><span class="line">        +color:<span class="string">"pink"</span>;/*IE6、7识别*/</span><br><span class="line">        _color:<span class="string">"pink"</span>;/*IE6识别*/</span><br><span class="line">    &#125;</span><br><span class="line">	</span><br><span class="line">4、IE8问题</span><br><span class="line">    parseInt()的取值异常—会把<span class="string">'0'</span>开头的数字以8进制来解析；</span><br><span class="line">    当有大于7的数字时候就按10进制来解析；</span><br><span class="line">    可以指定进制参数，如parseInt(<span class="string">'08'</span>,10);解决。</span><br><span class="line">       </span><br><span class="line">5、在IE的地址栏中输入带中文的参数，传到JAVA端后是乱码；</span><br><span class="line">    谷歌等浏览器中却没有此问题；</span><br><span class="line">    可以对对参数进行编码然后发送请求。</span><br></pre></td></tr></table></figure>

<h3 id="版本判断"><a href="#版本判断" class="headerlink" title="版本判断"></a>版本判断</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>、IE5<span class="number">.5</span>+判断方法(不包括IE10、IE11)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> ie55 = <span class="regexp">/MSIE ((5\.[56789])|([6789]))/</span>.test( navigator.userAgent ) &amp;&amp;                            navigator.platform == <span class="string">"Win32"</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> ( !ie55 ) &#123;</span><br><span class="line">    <span class="built_in">window</span>.onerror = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">writeNotSupported</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> ( !ie55 ) &#123;</span><br><span class="line">        <span class="built_in">document</span>.write( <span class="string">"&lt;p class=\"warning\"&gt;"</span> +<span class="string">"This script only works in Internet Explorer 5.5"</span> +<span class="string">" or greater for Windows&lt;/p&gt;"</span> );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="API变化"><a href="#API变化" class="headerlink" title="API变化"></a>API变化</h3><table>
<thead>
<tr>
<th align="left">旧的API</th>
<th align="left">新的API</th>
</tr>
</thead>
<tbody><tr>
<td align="left">attachEvent</td>
<td align="left">addEventListener</td>
</tr>
<tr>
<td align="left">document.all</td>
<td align="left">document.getElementById</td>
</tr>
<tr>
<td align="left">style.styleSheet</td>
<td align="left">style.sheet</td>
</tr>
<tr>
<td align="left">document.createStyleSheet</td>
<td align="left">document.createElement(“style”)</td>
</tr>
<tr>
<td align="left">window.doScroll</td>
<td align="left">window.scrollLeft、window.scrollTop</td>
</tr>
<tr>
<td align="left">script.onreadystatechange 和 script.readyState</td>
<td align="left">script.onload</td>
</tr>
<tr>
<td align="left">document.fileSize、img.fileSize</td>
<td align="left">使用 XMLHttpRequest 可提取源</td>
</tr>
<tr>
<td align="left">window.createPopup</td>
<td align="left">使用 div 或 iframe（zIndex 值很高）</td>
</tr>
<tr>
<td align="left">document.selection</td>
<td align="left">window.getSelection</td>
</tr>
<tr>
<td align="left">window.execScript</td>
<td align="left">eval</td>
</tr>
</tbody></table>
<h3 id="get缓存"><a href="#get缓存" class="headerlink" title="get缓存"></a>get缓存</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">1、IE为了提高用户访问速度，get请求方法会缓存返回结果；</span><br><span class="line"></span><br><span class="line">2、如果数据改变了，读取的数据不是最新数据，火狐/谷歌下，则不会缓存；</span><br><span class="line"></span><br><span class="line">3、解决方法</span><br><span class="line">    1）url加参数，欺骗浏览器url已改变，每次都向服务器发送请求而不去读缓存；</span><br><span class="line">        url加参数—时间戳   http://XXXX.com/a.html?t= + new Date().getTime();</span><br><span class="line">        url加参数—随机数   http://XXXX.com/a.html?number=Math.random(); </span><br><span class="line">        $.get()的data中添加随机参数   &#123;data: mydata, stamp: Math.random()&#125;;</span><br><span class="line">    </span><br><span class="line">    2）ajax设置cache参数为<span class="literal">false</span></span><br><span class="line">        $.ajax(&#123;</span><br><span class="line">            ......</span><br><span class="line">            cache:<span class="literal">false</span></span><br><span class="line">        &#125;)</span><br></pre></td></tr></table></figure>

<h2 id="封装函数模板"><a href="#封装函数模板" class="headerlink" title="封装函数模板"></a>封装函数模板</h2><h3 id="公用函数"><a href="#公用函数" class="headerlink" title="公用函数"></a>公用函数</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(!<span class="built_in">window</span>.lt)&#123;</span><br><span class="line">    lt = &#123;&#125;; <span class="comment">// 如果已经存在lt全局对象变量，如果不存在lt才需要定义一个空对象</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">lt.getParamsByUrl = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 1. 获取地址栏参数 </span></span><br><span class="line">    <span class="keyword">var</span> search = location.search; <span class="comment">// 例如  ?key=123&amp;name=10 </span></span><br><span class="line">    <span class="keyword">var</span> params = &#123;&#125;; <span class="comment">// 获取  &#123;key:123,name:10&#125;</span></span><br><span class="line">    <span class="keyword">if</span>(search)&#123;</span><br><span class="line">        <span class="comment">// 去除第一个问号</span></span><br><span class="line">        search = search.replace(<span class="regexp">/^\?/</span>,<span class="string">''</span>);</span><br><span class="line">        <span class="keyword">if</span>(search)&#123;</span><br><span class="line">            <span class="keyword">var</span> arr = search.split(<span class="string">'&amp;'</span>);</span><br><span class="line">            <span class="comment">// arr ['key=123','name=10']</span></span><br><span class="line">            arr.forEach(<span class="function"><span class="keyword">function</span> (<span class="params">item,i</span>) </span>&#123;</span><br><span class="line">                <span class="comment">// item 'key=123'</span></span><br><span class="line">                <span class="comment">// item 'name=10'</span></span><br><span class="line">                <span class="keyword">var</span> itemArr = item.split(<span class="string">'='</span>);</span><br><span class="line">                <span class="comment">// itemArr ['key','123']</span></span><br><span class="line">                params[itemArr[<span class="number">0</span>]] = <span class="built_in">decodeURIComponent</span>(itemArr[<span class="number">1</span>]);</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> params;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h3 id="公用URL"><a href="#公用URL" class="headerlink" title="公用URL"></a>公用URL</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>、创建app.js文件，url以键值对形式存入对象，并暴露给<span class="built_in">window</span></span><br><span class="line"></span><br><span class="line">$(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">document</span>.domain = <span class="string">'127.0.0.1'</span>;</span><br><span class="line">    <span class="keyword">var</span> user = $.cookie(<span class="string">'UserName'</span>) || <span class="string">'admin'</span>;</span><br><span class="line">    <span class="keyword">var</span> pmUrl = <span class="string">'http://java.mes.xfmgroup.com:8065/'</span>;</span><br><span class="line">    <span class="keyword">var</span> spinUrl = <span class="string">'http://java.mes.xfmgroup.com:8044/'</span>;</span><br><span class="line">    <span class="keyword">var</span> inventUrl = <span class="string">'http://192.168.118.61/WebService/MV/ERP.Api/mv/mb/erp/'</span>;</span><br><span class="line">    <span class="keyword">var</span> usePms = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> appRoot = &#123;</span><br><span class="line">        url: &#123;</span><br><span class="line">            pmUrl: pmUrl,</span><br><span class="line">            spinCalcUrl: spinUrl + <span class="string">'unitService/SuUnitInoutDatas/operations/calculate'</span>,</span><br><span class="line">            pmWorkShopsUrl: inventUrl +<span class="string">'plantModel/workshop/'</span> + user,</span><br><span class="line">        &#125;,</span><br><span class="line">        usePms: usePms,</span><br><span class="line">        currentUser: user</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">window</span>.AppRoot = appRoot;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="number">2</span>、使用时引入app.js,直接使用AppRoot.url.xxx访问</span><br><span class="line"></span><br><span class="line">$.ajax(&#123;</span><br><span class="line">    type: <span class="string">"GET"</span>,</span><br><span class="line">    url: AppRoot.pmUrl + <span class="string">'pm/sMtrl/'</span> + stockId,</span><br><span class="line">    success: <span class="function"><span class="keyword">function</span> (<span class="params">data</span>) </span>&#123;&#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h2 id="封装new操作符"><a href="#封装new操作符" class="headerlink" title="封装new操作符"></a>封装new操作符</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> new2 = <span class="function"><span class="keyword">function</span> (<span class="params">func</span>) </span>&#123;</span><br><span class="line">    <span class="comment">//创建对象</span></span><br><span class="line">    <span class="keyword">var</span> o = <span class="built_in">Object</span>.create(func.prototype); </span><br><span class="line">    </span><br><span class="line">    <span class="comment">//改变this指向，把结果付给k</span></span><br><span class="line">    <span class="keyword">var</span> k = func.call(o);　　</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//判断k的类型是不是对象</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> k === <span class="string">'object'</span>) &#123;　　</span><br><span class="line">        <span class="comment">//是，返回k</span></span><br><span class="line">        <span class="keyword">return</span> k;　　　　　　　　　　　　　　</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;   </span><br><span class="line">        <span class="comment">//不是返回返回构造函数的执行结果</span></span><br><span class="line">        <span class="keyword">return</span> o;　　　　　　　　　　　　　　　</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="简单实现双向数据绑定"><a href="#简单实现双向数据绑定" class="headerlink" title="简单实现双向数据绑定"></a>简单实现双向数据绑定</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;input id=<span class="string">'input'</span>/&gt;</span><br><span class="line">    </span><br><span class="line"><span class="keyword">const</span> data = &#123;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> input = <span class="built_in">document</span>.getElementById(<span class="string">'input'</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">Object</span>.defineProperty(data,<span class="string">'text'</span>,&#123;</span><br><span class="line">    <span class="keyword">set</span>(value) &#123;</span><br><span class="line">        input.value = value;</span><br><span class="line">        <span class="keyword">this</span>.vaule = value;</span><br><span class="line">    &#125; </span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">input.onChange = <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">    data.text = e.target.value;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
    </div>
    
    <div class="post-footer">
        <div>
            
                转载声明：商业转载请联系作者获得授权,非商业转载请注明出处 © <a href="" target="_blank">Snippet</a>
            
        </div>
        <div>
            
        </div>
    </div>
</article>

<div class="article-nav prev-next-wrap clearfix">
    
        <a href="/2020/01/03/5概念定义/" class="pre-post btn btn-default" title='概念定义'>
            <i class="fa fa-angle-left fa-fw"></i><span class="hidden-lg">上一篇</span>
            <span class="hidden-xs">概念定义</span>
        </a>
    
    
        <a href="/2020/01/03/3CSS归纳/" class="next-post btn btn-default" title='CSS归纳'>
            <span class="hidden-lg">下一篇</span>
            <span class="hidden-xs">CSS归纳</span><i class="fa fa-angle-right fa-fw"></i>
        </a>
    
</div>


    <div id="comments">
        
	
    <div id="vcomments" class="valine"></div>
    <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
<script src="/assets/valine.min.js"></script>

    <script>
        new Valine({
            av: AV,
            el: '#vcomments',
            appId: 'xOKV9J4UeQAtVkvnJC7Kq2Jn-gzGzoHsz',
            appKey: 'erIpQac4azoCmgfBB7Dl9maa',
            placeholder: '说点什么吧',
            notify: false,
            verify: true,
            avatar: 'mm',
            meta: 'nick,mail'.split(','),
            pageSize: '10',
            path: window.location.pathname,
            lang: 'zh-CN'.toLowerCase()
        })
    </script>


    </div>





                </main>
                
                    <aside id="article-toc" role="navigation" class="col-md-4">
    <div class="widget">
        <h3 class="title">文章目录</h3>
        
            <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#阻止默认事件"><span class="toc-text">阻止默认事件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#阻止冒泡"><span class="toc-text">阻止冒泡</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#防抖和节流"><span class="toc-text">防抖和节流</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#事件委托"><span class="toc-text">事件委托</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#改变this指向"><span class="toc-text">改变this指向</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#浅-深拷贝"><span class="toc-text">浅/深拷贝</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#递归"><span class="toc-text">递归</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#同源策略"><span class="toc-text">同源策略</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#编码解码"><span class="toc-text">编码解码</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#常见方法"><span class="toc-text">常见方法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#冒泡排序"><span class="toc-text">冒泡排序</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#数组去重"><span class="toc-text">数组去重</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#数组最大值"><span class="toc-text">数组最大值</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#获取虚拟目录"><span class="toc-text">获取虚拟目录</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#正则校验字符串"><span class="toc-text">正则校验字符串</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#判断数组是否为空"><span class="toc-text">判断数组是否为空</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#格式化日期"><span class="toc-text">格式化日期</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#日期字符串转时间戳"><span class="toc-text">日期字符串转时间戳</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#时间刷新"><span class="toc-text">时间刷新</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#驼峰大写转换"><span class="toc-text">驼峰大写转换</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#回文字符判断-字符串翻转"><span class="toc-text">回文字符判断_字符串翻转</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#显示-隐藏图标边框"><span class="toc-text">显示/隐藏图标边框</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#屏幕分辨率"><span class="toc-text">屏幕分辨率</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#跨浏览器打开链接"><span class="toc-text">跨浏览器打开链接</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#浏览器对方法的支持"><span class="toc-text">浏览器对方法的支持</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#JS小结"><span class="toc-text">JS小结</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#JS版本号"><span class="toc-text">JS版本号</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#语句优化"><span class="toc-text">语句优化</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#location"><span class="toc-text">location</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#历史记录"><span class="toc-text">历史记录</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#href属性"><span class="toc-text">href属性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#img标签"><span class="toc-text">img标签</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#表单"><span class="toc-text">表单</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#数组-字符串截取"><span class="toc-text">数组/字符串截取</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#数组元素添加-删除"><span class="toc-text">数组元素添加/删除</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#jQuery小结"><span class="toc-text">jQuery小结</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#追加删除元素"><span class="toc-text">追加删除元素</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#jQuery实用方法"><span class="toc-text">jQuery实用方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#编写jQuery插件"><span class="toc-text">编写jQuery插件</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#IE解决方案"><span class="toc-text">IE解决方案</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#IE兼容性"><span class="toc-text">IE兼容性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#版本判断"><span class="toc-text">版本判断</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#API变化"><span class="toc-text">API变化</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#get缓存"><span class="toc-text">get缓存</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#封装函数模板"><span class="toc-text">封装函数模板</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#公用函数"><span class="toc-text">公用函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#公用URL"><span class="toc-text">公用URL</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#封装new操作符"><span class="toc-text">封装new操作符</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#简单实现双向数据绑定"><span class="toc-text">简单实现双向数据绑定</span></a></li></ol>
        
    </div>
</aside>

                
            </div>
        </div>
    </section>
    <footer class="main-footer">
    <div class="container">
        <div class="row">
        </div>
    </div>
</footer>

<a id="back-to-top" class="icon-btn hide">
	<i class="fa fa-chevron-up"></i>
</a>




    <div class="copyright">
    <div class="container">
        <div class="row">
            <div class="col-sm-12">
                <div class="busuanzi">
    
</div>

            </div>
            <div class="col-sm-12">
                <span>Copyright &copy; 2017
                </span> |
                <span>
                    Powered by <a href="//hexo.io" class="copyright-links" target="_blank" rel="nofollow">Hexo</a>
                </span> |
                <span>
                    Theme by <a href="//github.com/shenliyang/hexo-theme-snippet.git" class="copyright-links" target="_blank" rel="nofollow">Snippet</a>
                </span>
            </div>
        </div>
    </div>
</div>







<script src="/js/app.js?rev=@@hash"></script>

</body>
</html>