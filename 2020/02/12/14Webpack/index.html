<!DOCTYPE HTML>
<html lang="zh-CN">
<head><meta name="generator" content="Hexo 3.9.0">
    <!--Setting-->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta http-equiv="Cache-Control" content="no-siteapp">
    <meta http-equiv="Cache-Control" content="no-transform">
    <meta name="renderer" content="webkit|ie-comp|ie-stand">
    <meta name="apple-mobile-web-app-capable" content="码农垒砖...">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="format-detection" content="telephone=no,email=no,adress=no">
    <meta name="browsermode" content="application">
    <meta name="screen-orientation" content="portrait">
    <meta name="theme-version" content="1.2.3">
    <meta name="root" content="/">
    <link rel="dns-prefetch" href="http://yoursite.com">
    <!--SEO-->

    <meta name="keywords" content>


    <meta name="description" content="webpack概念12345678910111213 1、JS应用程序的静态模块打包器；  2、webpack的作用	    1）html/css/js代码压缩合并（打包），节约网络请求；   ...">



<meta name="robots" content="all">
<meta name="google" content="all">
<meta name="googlebot" content="all">
<meta name="verify" content="all">

    <!--Title-->


<title>Webpack介绍 | 码农垒砖...</title>


    <link rel="alternate" href="/atom.xml" title="码农垒砖..." type="application/atom+xml">


    <link rel="icon" href="/favicon.ico">

    



<link rel="stylesheet" href="/css/bootstrap.min.css?rev=3.3.7">
<link rel="stylesheet" href="/css/font-awesome.min.css?rev=4.5.0">
<link rel="stylesheet" href="/css/style.css?rev=@@hash">




    
	<div class="hide">
		<script type="text/javascript">
			var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");document.write(unescape("%3Cspan class='cnzz_stat_icon_1263868967 hide' %3E%3Cscript%20src%3D%22https%3A%2F%2Fs95.cnzz.com%2Fz_stat.php%3Fweb_id%3D1272564536%22%3E%3C%2Fscript%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s19.cnzz.com/z_stat.php%3Fid%3D1263868967%26show%3Dpic1' type='text/javascript'%3E%3C/script%3E"));
		</script>
	</div>






    

</head>

</html>
<!--[if lte IE 8]>
<style>
    html{ font-size: 1em }
</style>
<![endif]-->
<!--[if lte IE 9]>
<div style="ie">你使用的浏览器版本过低，为了你更好的阅读体验，请更新浏览器的版本或者使用其他现代浏览器，比如Chrome、Firefox、Safari等。</div>
<![endif]-->

<body>
    <header class="main-header"  style="background-image:url(http://snippet.shenliyang.com/img/banner.jpg)"  >
    <div class="main-header-box">
        <a class="header-avatar" href="/" title='微微'>
            <img src="/img/avatar2.jpg" alt="logo头像" class="img-responsive center-block">
        </a>
        <div class="branding">
        	<!--<h2 class="text-hide">Snippet主题,从未如此简单有趣</h2>-->
            
                 <img src="/img/branding.png" alt="Snippet 博客主题" class="img-responsive center-block">
            
    	</div>
    </div>
</header>
    <nav class="main-navigation">
    <div class="container">
        <div class="row">
            <div class="col-sm-12">
                <div class="navbar-header"><span class="nav-toggle-button collapsed pull-right" data-toggle="collapse" data-target="#main-menu" id="mnav">
                    <span class="sr-only"></span>
                        <i class="fa fa-bars"></i>
                    </span>
                    <a class="navbar-brand" href="http://yoursite.com">码农垒砖...</a>
                </div>
                <div class="collapse navbar-collapse" id="main-menu">
                    <ul class="menu">
                        
                            <li role="presentation" class="text-center">
                                <a href="/"><i class="fa "></i>首页</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/前端/"><i class="fa "></i>前端</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/后端/"><i class="fa "></i>后端</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/工具/"><i class="fa "></i>工具</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/archives/"><i class="fa "></i>时间轴</a>
                            </li>
                        
                    </ul>
                </div>
            </div>
        </div>
    </div>
</nav>
    <section class="content-wrap">
        <div class="container">
            <div class="row">
                <main class="col-md-8 main-content m-post">
                    <p id="process"></p>
<article class="post">
    <div class="post-head">
        <h1 id="Webpack介绍">
            
	            Webpack介绍
            
        </h1>
        <div class="post-meta">
    
        <span class="categories-meta fa-wrap">
            <i class="fa fa-folder-open-o"></i>
            <a class="category-link" href="/categories/前端/">前端</a>
        </span>
    

    
        <span class="fa-wrap">
            <i class="fa fa-tags"></i>
            <span class="tags-meta">
                
            </span>
        </span>
    

    
        
        <span class="fa-wrap">
            <i class="fa fa-clock-o"></i>
            <span class="date-meta">2020/02/12</span>
        </span>
        
    
</div>
            
            
    </div>
    
    <div class="post-body post-content">
        <h2 id="webpack概念"><a href="#webpack概念" class="headerlink" title="webpack概念"></a>webpack概念</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"> 1、JS应用程序的静态模块打包器；</span><br><span class="line"> </span><br><span class="line"> 2、webpack的作用	</span><br><span class="line">    1）html/css/js代码压缩合并（打包），节约网络请求；</span><br><span class="line">    2）语法转换（less/sacc/stylus转换成css、ES6转ES5）；</span><br><span class="line">    3）开发期间提供一个开发环境（自动打开浏览器、保存时自动刷新）；</span><br><span class="line">    4）项目一般先打包在上线。</span><br><span class="line">    </span><br><span class="line">3、webpack</span><br><span class="line">    适用于单页面应用程序；</span><br><span class="line">    高级代码不需要考虑兼容性；</span><br><span class="line">    可以优化项目性能；</span><br><span class="line">    开发重心放在功能上，不需要维护js依赖性。</span><br></pre></td></tr></table></figure>

<h2 id="webpack的基本使用"><a href="#webpack的基本使用" class="headerlink" title="webpack的基本使用"></a>webpack的基本使用</h2><h3 id="基本打包配置"><a href="#基本打包配置" class="headerlink" title="基本打包配置"></a>基本打包配置</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>、新建目录dist、src/main.js；</span><br><span class="line"></span><br><span class="line"><span class="number">2</span>、初始化</span><br><span class="line">    npm init -y</span><br><span class="line">    或者</span><br><span class="line">    yarn init -y</span><br><span class="line">    </span><br><span class="line"><span class="number">3</span>、安装webpack依赖包 </span><br><span class="line">    npm i webpack webpack-cli -D</span><br><span class="line">    或者</span><br><span class="line">    yarn add webpack webpack-cli -D</span><br><span class="line">    </span><br><span class="line"><span class="number">4</span>、配置scripts节点</span><br><span class="line">    <span class="comment">// package.json文件中，build节点修改如下：</span></span><br><span class="line">	<span class="string">"scripts"</span>: &#123;</span><br><span class="line">    	<span class="string">"bulid"</span>: <span class="string">"webpack --config webpack.config.js"</span>,</span><br><span class="line">        <span class="string">"dev"</span>:<span class="string">"webpack"</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line"><span class="number">5</span>、根目录新建webpack配置文件(webpack.config.js)</span><br><span class="line">    <span class="comment">// webpack.config.js</span></span><br><span class="line">    <span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>);</span><br><span class="line">    <span class="built_in">module</span>.exports = &#123;	</span><br><span class="line">        <span class="comment">//1.入口entry，从哪个文件开始打包</span></span><br><span class="line">        entry: <span class="string">'./src/main.js'</span>,</span><br><span class="line">        <span class="comment">//2.出口output，文件打包到哪里去</span></span><br><span class="line">        output: &#123; </span><br><span class="line">            <span class="comment">//打包输出的目录</span></span><br><span class="line">            <span class="comment">//注意：path: './dist/'报错；输出的目录必须是一个绝对目录。</span></span><br><span class="line">            path: path.join(__dirname,<span class="string">'dist'</span>), </span><br><span class="line">            <span class="comment">//打包后生成的文件名</span></span><br><span class="line">            filename: <span class="string">'bundle.js'</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="comment">//3.模式mode development未压缩，production压缩</span></span><br><span class="line">        mode: <span class="string">'development'</span></span><br><span class="line">    &#125; </span><br><span class="line"></span><br><span class="line"><span class="number">6</span>、打包到dist目录执行yarn bulid，运行项目npm run dev。</span><br><span class="line"></span><br><span class="line"><span class="number">7</span>、修改webpack.config.js需要重新运行npm run dev,才会生效。</span><br></pre></td></tr></table></figure>

<h3 id="项目中使用jQuery"><a href="#项目中使用jQuery" class="headerlink" title="项目中使用jQuery"></a>项目中使用jQuery</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">yarn add jquery</span><br><span class="line"></span><br><span class="line"><span class="comment">// 引入jquery</span></span><br><span class="line"><span class="keyword">const</span> $ = <span class="built_in">require</span>(<span class="string">'jquery'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 入口函数</span></span><br><span class="line">$.(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    </span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="自动生成html到dist目录"><a href="#自动生成html到dist目录" class="headerlink" title="自动生成html到dist目录"></a>自动生成html到dist目录</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>、与src同级，新建public/index.html，放置静态文件；</span><br><span class="line"></span><br><span class="line"><span class="number">2</span>、index.html手动引入dist/bundle.js，运行yarn bulid；</span><br><span class="line"></span><br><span class="line"><span class="number">3</span>、webapck.config.js打包入口文件名称更改，运行yarn bulid，报错；</span><br><span class="line"></span><br><span class="line"><span class="number">4</span>、因为index.html手动引入的js文件不对；</span><br><span class="line"></span><br><span class="line"><span class="number">5</span>、解决办法是使用html-webpack-plugin插件；</span><br><span class="line"></span><br><span class="line"><span class="number">6</span>、下载html-webpack-plugin插件安装</span><br><span class="line">    yarn add html-webpack-plugin -D</span><br><span class="line">    或者</span><br><span class="line">    npm i html-webpack-plugin -D </span><br><span class="line">    </span><br><span class="line"><span class="number">7</span>、webpack.config.js配置html-webpack-plugin插件</span><br><span class="line">    <span class="keyword">const</span> HtmlWebpackPlugin = <span class="built_in">require</span>(<span class="string">'html-webpack-plugin'</span>);</span><br><span class="line">    <span class="built_in">module</span>.exports = &#123;</span><br><span class="line">        entry: <span class="string">'./src/main.js'</span>,</span><br><span class="line">        output: &#123;</span><br><span class="line">            path: path.join(__dirname,<span class="string">'dist'</span>), <span class="comment">//path: './dist/'</span></span><br><span class="line">            filename: <span class="string">'js/bundle.js'</span> </span><br><span class="line">        &#125;,</span><br><span class="line">        mode: <span class="string">'development'</span>,</span><br><span class="line">        plugins: [</span><br><span class="line">        	<span class="keyword">new</span> HtmlWebpackPlugin(&#123;<span class="attr">tempalte</span>: <span class="string">'./public/index.html'</span>&#125;)</span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="number">8</span>、执行 yarn bulid</span><br><span class="line"></span><br><span class="line"><span class="number">9</span>、public/index.html文件自动生成html页面放到dist目录</span><br><span class="line">    注意：此时自己的public/index.html模版文件中，不需要手动引入的打包后的文件，将来          会被插件自动引入。</span><br></pre></td></tr></table></figure>

<h3 id="css文件处理"><a href="#css文件处理" class="headerlink" title=".css文件处理"></a>.css文件处理</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>、webpack项目中使用css文件修改样式，css文件也发送请求，浪费资源；</span><br><span class="line"></span><br><span class="line"><span class="number">2</span>、此时可以在入口文件main.js顶部引入css文件</span><br><span class="line">    reqiure(<span class="string">'x/xxx.css'</span>)</span><br><span class="line">    </span><br><span class="line"><span class="number">3</span>、执行yarn bulid，报错；</span><br><span class="line"></span><br><span class="line"><span class="number">4</span>、因为webpack默认只能理解JS和<span class="built_in">JSON</span>文件，不认识其他文件；</span><br><span class="line"></span><br><span class="line"><span class="number">5</span>、如果希望打包时可以处理其他文件，需要配置对应的loader；</span><br><span class="line"></span><br><span class="line"><span class="number">6</span>、下载css相关loader</span><br><span class="line">    yarn add style-loader css-loader -D</span><br><span class="line">	或者</span><br><span class="line">    npm i style-loader css-loader -D</span><br><span class="line"></span><br><span class="line"><span class="number">7</span>、webpack.config.js配置loader规则</span><br><span class="line">    <span class="built_in">module</span>.exports = &#123;</span><br><span class="line">        <span class="built_in">module</span>: &#123;</span><br><span class="line">            rules: [</span><br><span class="line">                &#123;</span><br><span class="line">                    test:<span class="regexp">/\.css$/</span>,</span><br><span class="line">                    <span class="comment">//css-loader 让webpack能够识别解析css文件</span></span><br><span class="line">                    <span class="comment">//style-loader 动态创建style标签的方式（JS）</span></span><br><span class="line">                    <span class="comment">//style-loader 让解析后的css内容能够用在页面中</span></span><br><span class="line">                    use: [<span class="string">'style-loader'</span>, <span class="string">'css-loader'</span>]</span><br><span class="line">                    <span class="comment">//实际处理顺序从右向左</span></span><br><span class="line">                &#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="number">8</span>、执行yarn bulid</span><br><span class="line"></span><br><span class="line"><span class="number">9</span>、此时css文件打包整合到打包生成文件bundle.js中。</span><br></pre></td></tr></table></figure>

<h3 id="css文件分离"><a href="#css文件分离" class="headerlink" title=".css文件分离"></a>.css文件分离</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>、因为网络请求资源的问题，css文件以reqiure(<span class="string">'x/xxx.css'</span>)形式引入入口文件；</span><br><span class="line"></span><br><span class="line"><span class="number">2</span>、style-loader 动态创建style标签的方式（JS），css放到style标签，请求次数减少；</span><br><span class="line"></span><br><span class="line"><span class="number">3</span>、如果多个.css文件都引入入口文件，会造成文件过大与混乱，浪费性能；</span><br><span class="line"></span><br><span class="line"><span class="number">4</span>、解决上述问题，就是把css文件分离出来；</span><br><span class="line"></span><br><span class="line"><span class="number">5</span>、css分离插件</span><br><span class="line">    <span class="number">4.</span>X版本使用mini-css-extract-plugin</span><br><span class="line">    <span class="number">3.</span>X版本使用extract-text-webpack-plugin </span><br><span class="line"></span><br><span class="line"><span class="number">6</span>、插件安装</span><br><span class="line">    yarn add mini-css-extract-plugin -D</span><br><span class="line"></span><br><span class="line"><span class="number">7</span>、webpack.config.js文件配置</span><br><span class="line">    <span class="keyword">const</span> MiniCssExtractPlugin = <span class="built_in">require</span>(<span class="string">'mini-css-extract-plugin'</span>);</span><br><span class="line">    <span class="comment">//配置loader</span></span><br><span class="line">    &#123;</span><br><span class="line">        test:<span class="regexp">/\.css$/</span>,</span><br><span class="line">        use: [<span class="string">'style-loader'</span>, <span class="string">'css-loader'</span>]</span><br><span class="line">    &#125;</span><br><span class="line">    修改为</span><br><span class="line">    &#123;</span><br><span class="line">        test:<span class="regexp">/\.css$/</span>,</span><br><span class="line">        use: [</span><br><span class="line">            &#123;</span><br><span class="line">                loader: MiniCssExtractPlugin.loader, </span><br><span class="line">                options:&#123;<span class="attr">publicPath</span>: <span class="string">'../'</span>&#125;</span><br><span class="line">            &#125;,                     </span><br><span class="line">            <span class="string">'css-loader'</span></span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//配置plugin</span></span><br><span class="line">    plugins: [</span><br><span class="line">        <span class="keyword">new</span> MiniCssExtractPlugin(&#123;<span class="attr">filename</span>: <span class="string">'css/index.css'</span>&#125;)</span><br><span class="line">    ]</span><br></pre></td></tr></table></figure>

<h3 id="less文件处理"><a href="#less文件处理" class="headerlink" title=".less文件处理"></a>.less文件处理</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>、安装插件</span><br><span class="line">    yarn add less less-loader -D</span><br><span class="line">	或者</span><br><span class="line">    npm i less-loader less -D</span><br><span class="line">    </span><br><span class="line"><span class="number">2</span>、webpack.config.js文件配置</span><br><span class="line">    <span class="comment">// 【4.x版本】配置loader</span></span><br><span class="line">    &#123;</span><br><span class="line">        test:<span class="regexp">/\.less$/</span>,</span><br><span class="line">        use: [</span><br><span class="line">            &#123;</span><br><span class="line">                loader: MiniCssExtractPlugin.loader,</span><br><span class="line">                options:&#123;<span class="attr">publicPath</span>: <span class="string">'../'</span>&#125;</span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="string">'css-loader'</span>, </span><br><span class="line">            <span class="string">'less-loader'</span></span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 【3.x版本】配置loader</span></span><br><span class="line">    &#123;</span><br><span class="line">        test:<span class="regexp">/\.less$/</span>,</span><br><span class="line">        use:[<span class="string">'style-loader'</span>,<span class="string">'css-loader'</span>,<span class="string">'less-loader'</span>]</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h3 id="scss文件处理"><a href="#scss文件处理" class="headerlink" title=".scss文件处理"></a>.scss文件处理</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>、安装插件</span><br><span class="line">    yarn add sass-loader node-sass -D</span><br><span class="line">	或者</span><br><span class="line">    npm i sass-loader node-sass -D</span><br><span class="line">    </span><br><span class="line"><span class="number">2</span>、webpack.config.js文件配置</span><br><span class="line">    <span class="comment">// 【4.x版本】配置loader</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 【3.x版本】配置loader</span></span><br><span class="line">    &#123;</span><br><span class="line">        test:<span class="regexp">/\.scss$/</span>,</span><br><span class="line">        use:[<span class="string">'style-loader'</span>,<span class="string">'css-loader'</span>,<span class="string">'sass-loader'</span>]</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h3 id="图片文件处理"><a href="#图片文件处理" class="headerlink" title="图片文件处理"></a>图片文件处理</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>、安装插件</span><br><span class="line">    yarn add url-loader file-loader -D</span><br><span class="line">	或者</span><br><span class="line">    npm i url-loader file-loader -D </span><br><span class="line">    </span><br><span class="line"><span class="number">2</span>、webpack.config.js文件配置</span><br><span class="line">    <span class="comment">// 【4.x版本】配置loader</span></span><br><span class="line">    &#123;</span><br><span class="line">        test:<span class="regexp">/\.(png|jpg|gif)$/i</span>,</span><br><span class="line">        use: [</span><br><span class="line">            &#123;</span><br><span class="line">            	loader: <span class="string">'url-loader'</span>，</span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="string">'css-loader'</span>,</span><br><span class="line">            <span class="string">'less-loader'</span></span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 【3.x版本】配置loader</span></span><br><span class="line">    &#123;</span><br><span class="line">        test:<span class="regexp">/\.jpg|png|gif|bmp$/</span>,</span><br><span class="line">        use:<span class="string">'url-loader'</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        test:<span class="regexp">/\.eot|ttf|woff|woff2|svg$/</span>,</span><br><span class="line">        use:<span class="string">'url-loader'</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    注意：执行yarn bulid，dist目录找不到图片；</span><br><span class="line">         因为图片默认转换为base64，减少请求；</span><br><span class="line">         但是图片过大，再装base64，图片体积增大<span class="number">30</span>%。</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 修改配置loader</span></span><br><span class="line">    &#123;</span><br><span class="line">        test:<span class="regexp">/\.(png|jpg|gif)$/i</span>,</span><br><span class="line">        use: [</span><br><span class="line">            &#123;</span><br><span class="line">                loader: <span class="string">'url-loader'</span>，</span><br><span class="line">                options:&#123;</span><br><span class="line">                	limit: <span class="number">8</span>*<span class="number">1024</span></span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">// 8k以内转换成base64节约请求次数，8k以外，文件单独请求一次</span></span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="string">'css-loader'</span>,</span><br><span class="line">            <span class="string">'less-loader'</span></span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="number">3</span>、执行yarn bulid，此时图片默认在dist文件根目录生成；</span><br><span class="line"></span><br><span class="line"><span class="number">4</span>、配置图片的打包输出目录</span><br><span class="line">    <span class="comment">// 修改配置loader</span></span><br><span class="line">    &#123;</span><br><span class="line">        test:<span class="regexp">/\.(png|jpg|gif)$/i</span>,</span><br><span class="line">        use: [</span><br><span class="line">            &#123;</span><br><span class="line">                loader: <span class="string">'url-loader'</span>，</span><br><span class="line">                options:&#123;</span><br><span class="line">                    limit: <span class="number">8</span>*<span class="number">1024</span>,</span><br><span class="line">                    name: <span class="string">'[name].[ext]'</span>,</span><br><span class="line">                    publicPath: <span class="string">"../images/"</span>,</span><br><span class="line">                    outputPath: <span class="string">"images/"</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="string">'css-loader'</span>, </span><br><span class="line">            <span class="string">'less-loader'</span></span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h3 id="省略文件后缀名"><a href="#省略文件后缀名" class="headerlink" title="省略文件后缀名"></a>省略文件后缀名</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">【resolve处理、解决；extensions扩展】</span><br><span class="line"><span class="comment">// webpack.config.js中新增resolve节点配置扩展名省略</span></span><br><span class="line">    <span class="built_in">module</span>.exports = &#123;</span><br><span class="line">        resolve:&#123;</span><br><span class="line">            extensions:[<span class="string">'.js'</span>,<span class="string">'.vue'</span>,<span class="string">'.json'</span>]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h3 id="路径标识符-的配置"><a href="#路径标识符-的配置" class="headerlink" title="路径标识符@的配置"></a>路径标识符@的配置</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//webpack.config.js中修改resolve节点中的alias(别名)</span></span><br><span class="line">    resolve:&#123;</span><br><span class="line">        alias:&#123;</span><br><span class="line">        	<span class="string">"@"</span>: path.join(__dirname,<span class="string">'./src'</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h3 id="清除dist目录的插件"><a href="#清除dist目录的插件" class="headerlink" title="清除dist目录的插件"></a>清除dist目录的插件</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>、打包前手动删除dist目录文件，可能有残留，使用插件；</span><br><span class="line"></span><br><span class="line"><span class="number">2</span>、安装插件</span><br><span class="line">    yarn add clean-webpack-plugin -D</span><br><span class="line">    </span><br><span class="line"><span class="number">3</span>、webpack.config.js文件配置</span><br><span class="line">    <span class="keyword">const</span> CleanWebpackPlugin = <span class="built_in">require</span>(<span class="string">'clean-webpack-plugin'</span>);</span><br><span class="line">    plugins: [</span><br><span class="line">    	<span class="keyword">new</span> CleanWebpackPlugin()</span><br><span class="line">    ]</span><br></pre></td></tr></table></figure>

<h2 id="webpack开发环境配置"><a href="#webpack开发环境配置" class="headerlink" title="webpack开发环境配置"></a>webpack开发环境配置</h2><h3 id="webpack默认处理高级语法"><a href="#webpack默认处理高级语法" class="headerlink" title="webpack默认处理高级语法"></a>webpack默认处理高级语法</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">【<span class="number">3.</span>X版本】</span><br><span class="line"><span class="number">1</span>、webpack默认处理高级语法，但不是所有语法如<span class="class"><span class="keyword">class</span>关键字，此时需要运行2套命令 </span></span><br><span class="line"><span class="class">    <span class="title">npm</span> <span class="title">i</span> <span class="title">babel</span>-<span class="title">core</span> <span class="title">babel</span>-<span class="title">loader</span> <span class="title">babel</span>-<span class="title">plugin</span>-<span class="title">transform</span>-<span class="title">runtime</span> -<span class="title">D</span></span></span><br><span class="line"><span class="class">    <span class="title">npm</span> <span class="title">i</span> <span class="title">babel</span>-<span class="title">preset</span>-<span class="title">env</span> <span class="title">babel</span>-<span class="title">preset</span>-<span class="title">stage</span>-0 -<span class="title">D</span></span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class">2、<span class="title">webpack</span>.<span class="title">config</span>.<span class="title">js</span>文件配置</span></span><br><span class="line"><span class="class">    // 配置<span class="title">loader</span></span></span><br><span class="line"><span class="class">    </span>&#123;</span><br><span class="line">        test:<span class="regexp">/\.js$/</span>, </span><br><span class="line">        use: <span class="string">'babel-loader'</span>,</span><br><span class="line">        exclude:<span class="regexp">/node_modules/</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">3</span>、根目录添加文件.babelrc,添加如下节点</span><br><span class="line">   &#123;</span><br><span class="line">        <span class="string">"preset"</span>:[<span class="string">"env"</span>,<span class="string">"stage-0"</span>],</span><br><span class="line">        <span class="string">"plugins"</span>:[<span class="string">"transform-runtime"</span>]</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">【<span class="number">4.</span>X版本】</span><br><span class="line"><span class="number">1</span>、使用babel处理高版本的JS语法（处理JS新语法的兼容性）</span><br><span class="line">    yarn add babel-loader @babel/core @babel/preset-ent -D</span><br><span class="line"></span><br><span class="line"><span class="number">2</span>、webpack.config.js文件配置</span><br><span class="line">    <span class="comment">// 配置loader</span></span><br><span class="line">    &#123;</span><br><span class="line">        test:<span class="regexp">/\.js$/</span>,</span><br><span class="line">        exclude: <span class="regexp">/(node_modules)/</span></span><br><span class="line">        use: [&#123;</span><br><span class="line">            loader: <span class="string">'babel-loader'</span>，</span><br><span class="line">            options:&#123;</span><br><span class="line">                presets: [<span class="string">' @babel/preset-ent'</span>],</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;]</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h3 id="自动打包编译插件"><a href="#自动打包编译插件" class="headerlink" title="自动打包编译插件"></a>自动打包编译插件</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>、自动刷新替换手动打包方案</span><br><span class="line"></span><br><span class="line"><span class="number">2</span>、插件安装</span><br><span class="line">    yarn add webpack-dev-server -D</span><br><span class="line">    或者</span><br><span class="line">    npm i webpack-dev-server -D</span><br><span class="line"></span><br><span class="line"><span class="number">3</span>、修改package.json文件的scripts节点</span><br><span class="line">    <span class="string">"scripts"</span>: &#123;</span><br><span class="line">        <span class="string">"bulid"</span>: <span class="string">"webpack --config webpack.config.js"</span>,</span><br><span class="line">        <span class="string">"dev"</span>: <span class="string">"webpack-dev-server webpack --config webpack.config.js"</span></span><br><span class="line">    &#125;</span><br><span class="line">    或者dev节点如下配置</span><br><span class="line">    <span class="string">"dev"</span>:<span class="string">"webpack-dev-server --open firefox --host 127.0.0.1 3000 --port --hot --progress --compress"</span></span><br><span class="line"></span><br><span class="line"><span class="number">4</span>、执行yarn dev或者npm run dev，保存时自动刷新，项目运行在本地。</span><br><span class="line"></span><br><span class="line"><span class="number">5</span>、使用webpack-dev-server，是在内存中生成脚本。发布时怎么办？</span><br><span class="line">    执行yarn  build 或者 npm run bulid，打包文件到dist目录。</span><br></pre></td></tr></table></figure>

<h3 id="配置开发服务器"><a href="#配置开发服务器" class="headerlink" title="配置开发服务器"></a>配置开发服务器</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// webpack.config.js增加devServer节点，修改自动打开端口</span></span><br><span class="line">    devServer: &#123;</span><br><span class="line">        port: <span class="number">3000</span>,</span><br><span class="line">        open: <span class="literal">true</span></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h3 id="开发环境和生产环境"><a href="#开发环境和生产环境" class="headerlink" title="开发环境和生产环境"></a>开发环境和生产环境</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>、开发环境，在本地运行；生产环境，在服务器端运行；</span><br><span class="line"></span><br><span class="line"><span class="number">2</span>、生产环境和开发环境要求不同，因此不能共用一份webpack配置文件，需要分离；</span><br><span class="line"></span><br><span class="line"><span class="number">3</span>、安装插件</span><br><span class="line">    yarn add webpack-merge -D</span><br><span class="line">    </span><br><span class="line"><span class="number">4</span>、根目录新建config文件夹（存放配置文件），在建三个文件</span><br><span class="line">    <span class="number">1</span>）共同的配置文件webpack.base.js</span><br><span class="line">        删除mode:<span class="string">"development"</span>,<span class="attr">devServer</span>: &#123;<span class="attr">port</span>: <span class="number">3000</span>,<span class="attr">open</span>: <span class="literal">true</span>&#125;节点</span><br><span class="line">        修改绝对路径目录output节点的path: path.join(__dirname,<span class="string">'../dist'</span>)</span><br><span class="line"></span><br><span class="line">    <span class="number">2</span>）开发环境的配置文件webpack.dev.js</span><br><span class="line">        <span class="comment">//导入公共配置</span></span><br><span class="line">        <span class="keyword">const</span> base = <span class="built_in">require</span>（<span class="string">"./webpack.base.js"</span>);</span><br><span class="line">        <span class="comment">//导入一个用于合并的包</span></span><br><span class="line">        <span class="keyword">const</span> merge = <span class="built_in">require</span>(<span class="string">"webpack-merge"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="built_in">module</span>.exports = merge(base,&#123;</span><br><span class="line">            mode:<span class="string">"development"</span>,</span><br><span class="line">            devServer: &#123;</span><br><span class="line">                port: <span class="number">3000</span>,</span><br><span class="line">                open: <span class="literal">true</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">        <span class="comment">// 注意：merge可以传入多个参数，会将对个参数合并为一个对象；</span></span><br><span class="line">        <span class="comment">// 如果有重复的属性名，后面的对象会覆盖前面的。</span></span><br><span class="line"></span><br><span class="line">    <span class="number">3</span>）生产环境的配置文件webpack.pro.js</span><br><span class="line">        <span class="comment">//导入公共配置</span></span><br><span class="line">        <span class="keyword">const</span> base = <span class="built_in">require</span>（<span class="string">"./webpack.base.js"</span>);</span><br><span class="line">        <span class="comment">//导入一个用于合并的包</span></span><br><span class="line">        <span class="keyword">const</span> merge = <span class="built_in">require</span>(<span class="string">"webpack-merge"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="built_in">module</span>.exports = merge(base,&#123;</span><br><span class="line">            mode:<span class="string">"production"</span>,</span><br><span class="line">        &#125;</span><br><span class="line">                                   </span><br><span class="line"><span class="number">6</span>、删除webpack.config.js；</span><br><span class="line"></span><br><span class="line"><span class="number">7</span>、package.json文件的scripts</span><br><span class="line">    <span class="string">"scripts"</span>: &#123;</span><br><span class="line">        <span class="string">"bulid"</span>: <span class="string">"webpack --config config/webpack.pro.js"</span>,</span><br><span class="line">        <span class="string">"dev"</span>: <span class="string">"webpack-dev-server webpack --config config/webpack.dev.js"</span></span><br><span class="line">    &#125;</span><br><span class="line">       </span><br><span class="line"><span class="number">8</span>、执行yarn dev。</span><br></pre></td></tr></table></figure>

<h3 id="多入口多出口配置"><a href="#多入口多出口配置" class="headerlink" title="多入口多出口配置"></a>多入口多出口配置</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>、新建src/index.js、src/about.js；</span><br><span class="line"></span><br><span class="line"><span class="number">2</span>、webpack.base.js文件配置【多入口entry】</span><br><span class="line">    entry: &#123;</span><br><span class="line">        index: <span class="string">'./src/index.js'</span>,</span><br><span class="line">        about: <span class="string">'./src/about.js'</span></span><br><span class="line">    &#125;</span><br><span class="line">	</span><br><span class="line"><span class="number">3</span>、webpack.base.js文件配置【多出口output】</span><br><span class="line">    output: &#123;</span><br><span class="line">        path: path.join(__dirname,<span class="string">'../dist'</span>),</span><br><span class="line">        filename:<span class="string">"js/[name].bundle.js"</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//注意：[name]指代entry中键名。</span></span><br><span class="line"></span><br><span class="line"><span class="number">4</span>、执行yarn bulid。</span><br></pre></td></tr></table></figure>

<h3 id="文件被重复引入"><a href="#文件被重复引入" class="headerlink" title="文件被重复引入"></a>文件被重复引入</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>、在多入口文件的情况下，如果入口文件都引用jquery</span><br><span class="line">    yarn add jquery</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 在下载babel包之后可以使用import引入jquery</span></span><br><span class="line">    <span class="keyword">import</span> $ <span class="keyword">from</span> <span class="string">'jquery'</span>;</span><br><span class="line">    或者</span><br><span class="line">    <span class="keyword">const</span> $ = <span class="built_in">require</span>(<span class="string">'jquery'</span>)</span><br><span class="line">    <span class="built_in">console</span>.log($.(<span class="string">'div'</span>));</span><br><span class="line"></span><br><span class="line"><span class="number">2</span>、执行yarn build打包，jquery会被重复使用，使引入jquery的入口文件体积都变大；</span><br><span class="line"></span><br><span class="line"><span class="number">3</span>、公共模块被重复引用可以通过设置webapck配置文件解决</span><br><span class="line">    <span class="comment">// webpack.base.js文件配置optimization</span></span><br><span class="line">    <span class="comment">// 提取公共模块配置</span></span><br><span class="line">    optimization:&#123;</span><br><span class="line">        splitChunks:&#123;</span><br><span class="line">            chunks:<span class="string">"all"</span><span class="comment">//提取所有文件的公共模块</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    注意：公共模块的大小必须大于<span class="number">30</span>k。</span><br><span class="line">    </span><br><span class="line"><span class="number">4</span>、执行yarn build打包，dist会多出一个.js文件。</span><br></pre></td></tr></table></figure>

<h3 id="vue文件处理"><a href="#vue文件处理" class="headerlink" title=".vue文件处理"></a>.vue文件处理</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>、安装Vue</span><br><span class="line">    yarn add vue</span><br><span class="line">    </span><br><span class="line"><span class="number">2</span>、创建src/App.vue根组件</span><br><span class="line"></span><br><span class="line"><span class="number">3</span>、创建src/main.js入口文件</span><br><span class="line">    <span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">"vue"</span></span><br><span class="line">    <span class="keyword">import</span> App <span class="keyword">from</span> <span class="string">"./App.vue"</span></span><br><span class="line">    <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">        el: <span class="string">"#app"</span>,</span><br><span class="line">        <span class="comment">//使用vue底层的渲染方法</span></span><br><span class="line">        <span class="comment">//使用App组件，作为根组件，将来渲染视图</span></span><br><span class="line">        render: <span class="function"><span class="params">h</span> =&gt;</span> h(App)</span><br><span class="line">	&#125;) </span><br><span class="line"></span><br><span class="line"><span class="number">4</span>、执行yarn dev，报错，不识别.vue文件；</span><br><span class="line"></span><br><span class="line"><span class="number">5</span>、安装插件识别.vue文件的loader</span><br><span class="line">    yarn add vue-loader vue-template-compiler -D</span><br><span class="line"></span><br><span class="line"><span class="number">6</span>、webpack.config.js文件配置</span><br><span class="line">    <span class="keyword">const</span> VueLoderPlugin = <span class="built_in">require</span>(<span class="string">"vue-loader/lib/plugin"</span>);</span><br><span class="line">    <span class="comment">// 配置loader</span></span><br><span class="line">    &#123;</span><br><span class="line">        test:<span class="regexp">/\.vue$/</span>,</span><br><span class="line">        loader: <span class="string">'vue-loader'</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 配置plugins</span></span><br><span class="line">    plugins: [</span><br><span class="line">        <span class="keyword">new</span> VueLoderPlugin()</span><br><span class="line">    ]</span><br></pre></td></tr></table></figure>

<h2 id="webpack项目中rem布局插件"><a href="#webpack项目中rem布局插件" class="headerlink" title="webpack项目中rem布局插件"></a>webpack项目中rem布局插件</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>、在移动端项目开发中为了适配，选择rem布局；</span><br><span class="line"></span><br><span class="line"><span class="number">2</span>、在webpack中有rem布局的插件postcss-pxtorem；</span><br><span class="line"></span><br><span class="line"><span class="number">3</span>、安装插件</span><br><span class="line">    yarn add lib-flexible postcss-px2rem</span><br><span class="line"></span><br><span class="line"><span class="number">4</span>、public中/index.html中删除meta标签，插件会自动添加此&lt;meta name=<span class="string">"viewport"</span>&gt;标签；</span><br><span class="line"></span><br><span class="line"><span class="number">5</span>、main.js入口文件配置</span><br><span class="line">    <span class="comment">//导入 rem 的js，它动态的设置了，不同屏幕html根元素的font-size</span></span><br><span class="line">    <span class="keyword">import</span> <span class="string">"lib-flexible"</span></span><br><span class="line"></span><br><span class="line"><span class="number">6</span>、vue.config.js文件配置</span><br><span class="line">    css: &#123;</span><br><span class="line">        loaderOptions: &#123;</span><br><span class="line">            css: &#123;&#125;,</span><br><span class="line">            postcss: &#123;</span><br><span class="line">                plugins: [</span><br><span class="line">                    <span class="built_in">require</span>(<span class="string">"postcss-px2rem"</span>)(&#123;</span><br><span class="line">                        <span class="comment">// 适配的是375的屏幕，设计图750中量出来的尺寸 / 2</span></span><br><span class="line">                        <span class="comment">// 设置为37.5是为了兼容没有适配的 rem 布局的第三方ui库</span></span><br><span class="line">                        remUnit: <span class="number">37.5</span></span><br><span class="line">                    &#125;)</span><br><span class="line">                ]</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h2 id="反向代理配置说明"><a href="#反向代理配置说明" class="headerlink" title="反向代理配置说明"></a>反向代理配置说明</h2>   <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>、webpack的反向代理，可以帮助解决开发中的跨域问题；</span><br><span class="line"></span><br><span class="line"><span class="number">2</span>、跨域示例</span><br><span class="line">    yarn add axios</span><br><span class="line"></span><br><span class="line">    <span class="comment">//home.vue文件</span></span><br><span class="line">    <span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">"axios"</span></span><br><span class="line">    <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">        <span class="keyword">async</span> created () &#123;</span><br><span class="line">            <span class="keyword">const</span> url = <span class="string">`跨域网址`</span></span><br><span class="line">            <span class="keyword">const</span> res = <span class="keyword">await</span> axios.get(url)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    运行报错，跨域了。</span><br><span class="line">    </span><br><span class="line"><span class="number">3</span>、解决此问题需要配置代理服务器，进行代理数据</span><br><span class="line">    <span class="comment">// vue.config.js文件</span></span><br><span class="line">    <span class="built_in">module</span>.exports = &#123;</span><br><span class="line">        devServer: &#123;</span><br><span class="line">            open: <span class="literal">true</span>,</span><br><span class="line">            port: <span class="number">3000</span>,</span><br><span class="line">            <span class="comment">// 配置代理服务器，进行代理数据</span></span><br><span class="line">            proxy: &#123;<span class="comment">//此服务只提供给开发环境使用</span></span><br><span class="line">                <span class="comment">//将来以/music开头的路径都会被代理</span></span><br><span class="line">                <span class="string">"/music"</span>: &#123;</span><br><span class="line">                    target:<span class="string">"https://c.y.qq.com/mv/fcgi-bin/"</span>,<span class="comment">//代理的基础目录</span></span><br><span class="line">                    pathRewrite:&#123;<span class="string">"^/music"</span>: <span class="string">""</span>&#125;</span><br><span class="line">                &#125;</span><br><span class="line">          &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//home.vue文件</span></span><br><span class="line">    <span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">"axios"</span></span><br><span class="line">    <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">        <span class="keyword">async</span> created () &#123;</span><br><span class="line">            <span class="keyword">const</span> url = <span class="string">`/music/跨域网址后缀`</span></span><br><span class="line">            <span class="keyword">const</span> res = <span class="keyword">await</span> axios.get(url)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>


    </div>
    
    <div class="post-footer">
        <div>
            
                转载声明：商业转载请联系作者获得授权,非商业转载请注明出处 © <a href="" target="_blank">Snippet</a>
            
        </div>
        <div>
            
        </div>
    </div>
</article>

<div class="article-nav prev-next-wrap clearfix">
    
        <a href="/2020/02/24/15Vue/" class="pre-post btn btn-default" title='Vue'>
            <i class="fa fa-angle-left fa-fw"></i><span class="hidden-lg">上一篇</span>
            <span class="hidden-xs">Vue</span>
        </a>
    
    
        <a href="/2020/02/12/13Promise/" class="next-post btn btn-default" title='Promise介绍'>
            <span class="hidden-lg">下一篇</span>
            <span class="hidden-xs">Promise介绍</span><i class="fa fa-angle-right fa-fw"></i>
        </a>
    
</div>


    <div id="comments">
        
	
    <div id="vcomments" class="valine"></div>
    <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
<script src="/assets/valine.min.js"></script>

    <script>
        new Valine({
            av: AV,
            el: '#vcomments',
            appId: 'xOKV9J4UeQAtVkvnJC7Kq2Jn-gzGzoHsz',
            appKey: 'erIpQac4azoCmgfBB7Dl9maa',
            placeholder: '说点什么吧',
            notify: false,
            verify: true,
            avatar: 'mm',
            meta: 'nick,mail'.split(','),
            pageSize: '10',
            path: window.location.pathname,
            lang: 'zh-CN'.toLowerCase()
        })
    </script>


    </div>





                </main>
                
                    <aside id="article-toc" role="navigation" class="col-md-4">
    <div class="widget">
        <h3 class="title">文章目录</h3>
        
            <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#webpack概念"><span class="toc-text">webpack概念</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#webpack的基本使用"><span class="toc-text">webpack的基本使用</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#基本打包配置"><span class="toc-text">基本打包配置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#项目中使用jQuery"><span class="toc-text">项目中使用jQuery</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#自动生成html到dist目录"><span class="toc-text">自动生成html到dist目录</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#css文件处理"><span class="toc-text">.css文件处理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#css文件分离"><span class="toc-text">.css文件分离</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#less文件处理"><span class="toc-text">.less文件处理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#scss文件处理"><span class="toc-text">.scss文件处理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#图片文件处理"><span class="toc-text">图片文件处理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#省略文件后缀名"><span class="toc-text">省略文件后缀名</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#路径标识符-的配置"><span class="toc-text">路径标识符@的配置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#清除dist目录的插件"><span class="toc-text">清除dist目录的插件</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#webpack开发环境配置"><span class="toc-text">webpack开发环境配置</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#webpack默认处理高级语法"><span class="toc-text">webpack默认处理高级语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#自动打包编译插件"><span class="toc-text">自动打包编译插件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#配置开发服务器"><span class="toc-text">配置开发服务器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#开发环境和生产环境"><span class="toc-text">开发环境和生产环境</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#多入口多出口配置"><span class="toc-text">多入口多出口配置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#文件被重复引入"><span class="toc-text">文件被重复引入</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#vue文件处理"><span class="toc-text">.vue文件处理</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#webpack项目中rem布局插件"><span class="toc-text">webpack项目中rem布局插件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#反向代理配置说明"><span class="toc-text">反向代理配置说明</span></a></li></ol>
        
    </div>
</aside>

                
            </div>
        </div>
    </section>
    <footer class="main-footer">
    <div class="container">
        <div class="row">
        </div>
    </div>
</footer>

<a id="back-to-top" class="icon-btn hide">
	<i class="fa fa-chevron-up"></i>
</a>




    <div class="copyright">
    <div class="container">
        <div class="row">
            <div class="col-sm-12">
                <div class="busuanzi">
    
</div>

            </div>
            <div class="col-sm-12">
                <span>Copyright &copy; 2017
                </span> |
                <span>
                    Powered by <a href="//hexo.io" class="copyright-links" target="_blank" rel="nofollow">Hexo</a>
                </span> |
                <span>
                    Theme by <a href="//github.com/shenliyang/hexo-theme-snippet.git" class="copyright-links" target="_blank" rel="nofollow">Snippet</a>
                </span>
            </div>
        </div>
    </div>
</div>







<script src="/js/app.js?rev=@@hash"></script>

</body>
</html>